(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5395],{31992:function(e){e.exports={GoodsSkeletonWrapper:"GoodsSkeletonWrapper-1ek8u",goodsSkeletonImgContainer:"goodsSkeletonImgContainer-3YXja",skeletonImgContainer:"skeletonImgContainer-24zMO",goodsSkeletonName:"goodsSkeletonName-g8QyZ",skcSkeleton:"skcSkeleton-3z7Cv",skeletonSaleInfo:"skeletonSaleInfo-x7_KN",quickLookAndAttributesTags:"quickLookAndAttributesTags-zQtjA",showVideoIconAndAttributesTag:"showVideoIconAndAttributesTag-2VTy4",attributesTag:"attributesTag-16u27",goodsWrapper:"goodsWrapper-rOnMF",noHover:"noHover-2kHaA",showCategoryCard:"showCategoryCard-DjcTL",quickLook:"quickLook-3BhQ6",attributesWrap:"attributesWrap-2VBBA",processTag:"processTag-135wT",qualityTags:"qualityTags-3VY1q",hoverThemeDefault:"hoverThemeDefault-cUAur",FadeIn:"FadeIn-8C3JC",hoverThemeScale:"hoverThemeScale-1G1VT",goodsImgContainer:"goodsImgContainer-3880I",goodsImg:"goodsImg-2FWCs",goodsImgWithFullHeight:"goodsImgWithFullHeight-2d9HL",adultGoodsImg:"adultGoodsImg-igBo3",masker:"masker-xRMDI",loadingBall:"loadingBall-eV3aA",ballItem:"ballItem-1c5wU",ballBreath:"ballBreath-25DOP",watermark:"watermark-3l1zd",noImgContainer:"noImgContainer-Y41XX",nameAndAvatar:"nameAndAvatar-1u9Uv",flexContainer:"flexContainer-1jwk9",marketPriceAndSales:"marketPriceAndSales-3o8sO",discountPrice:"discountPrice-1FqKm",unitPrefix:"unitPrefix-RV8DH",unitSuffix:"unitSuffix-3RyHK",priceText:"priceText-1l8dH",marketPrice:"marketPrice-Ff3dr",reductionText:"reductionText-3CXUK",saleInfo:"saleInfo-21nMm",saleInfoL:"saleInfoL-1kMLf",addCartWrap:"addCartWrap-1J_5s",saleInfoR:"saleInfoR-3hs1Q",noCart:"noCart-3-hLX",item:"item-20FJP",saleText:"saleText-31g9K",saleNum:"saleNum-NwHKF",placeHolder:"placeHolder-EXXpL",goodsTags:"goodsTags-2lbga",tag:"tag-2f6uz",rateContainer:"rateContainer-3X8K_",commentNum:"commentNum-1IzE7",brandTagIcon:"brandTagIcon-2kTKN",brandTags:"brandTags-4_qk7",cardWrap:"cardWrap-_PRvD",videoIconUrl:"videoIconUrl-3VTuL",hasAttribute:"hasAttribute-34XQz",cartPlaceholder:"cartPlaceholder-1GusL",cartBtn:"cartBtn-1taUz",bottomTips:"bottomTips-3iXUW",personalizationTag:"personalizationTag-2z_V2",img:"img-1mxAg",text:"text-KtyJg",goodsTag:"goodsTag-jpiz-",billboardTagWrap:"billboardTagWrap-1C9UU",goodsTagSeat:"goodsTagSeat-2ZfYT",multiImgFadeAniEnable:"multiImgFadeAniEnable-Qws6D",secFadeAni:"secFadeAni-2V19I",comment:"comment-38A-6",promotionTagDiscount:"promotionTagDiscount-3F48L",promotionPrise:"promotionPrise-1g4vx",promotionText:"promotionText-X9lHy",promotionTextScale:"promotionTextScale-1YoeI",nameWrap:"nameWrap-e4OGP",GrayGoodsName:"GrayGoodsName-3eDSF",GraySmallGoodsName:"GraySmallGoodsName-3Y1cw",GraySmallThinGoodsName:"GraySmallThinGoodsName-2MOdH",payTag:"payTag-2hy9Y",couponTag:"couponTag-yFK1x",videoIconWithSimilarEntry:"videoIconWithSimilarEntry-1wu0L",similarEntry:"similarEntry-bSQtB",similarEntryPlaceholder:"similarEntryPlaceholder-2w-UM",newStyle:"newStyle-3MUkB",goodsImageWrap:"goodsImageWrap-2Xcpq",centerHorizontally:"centerHorizontally-BsgWi",rateAndSaleInfo:"rateAndSaleInfo-1sS5F",fadeOut:"fadeOut-1dsQ4"}},47754:function(e){e.exports={title:"title-2ae0E",cardWrap:"cardWrap-345tX",autoFitList:"autoFitList-1NDyc"}},11100:function(e){e.exports={wrap:"wrap-3dJeY",link:"link-FvVcE",icon:"icon-AabgB"}},33026:function(e){e.exports={titleTagWrap:"titleTagWrap-3b7-H",titleTag:"titleTag-1dxyH",top:"top-3Emcu"}},52449:function(e){e.exports={arrowWrap:"arrowWrap-6A3Oq",arrowLeft:"arrowLeft-3nyDB",arrowRight:"arrowRight-2ehRn",arrow:"arrow-1Q5uq",innerArrowLeft:"innerArrowLeft-bGCjM",innerArrowRight:"innerArrowRight-22xGZ",hide:"hide-LKO5q"}},97887:function(e){e.exports={attributesTag:"attributesTag-Aferx",img:"img-2azHl",textListWrap:"textListWrap-1UpQy",text:"text-3qGRO",newStyle:"newStyle-3pQZ_"}},67407:function(e){e.exports={carouseWrap:"carouseWrap-1ZmfQ",moveWrap:"moveWrap-3GF48",content:"content-2Ghzf",move:"move-2ldef",item:"item-1RSEj"}},34211:function(e){e.exports={tag:"tag-2SWxQ",line:"line-1genn",firstText:"firstText-3dzJG"}},8559:function(e){e.exports={discountPriceTag:"discountPriceTag-2HywM",arrow:"arrow-3Qvg4",tagContent:"tagContent-1IgHD",discountContent:"discountContent-2dx2q",text:"text-whl3z",countDown:"countDown-2jire",newStyle:"newStyle-p0JyO",singleGoodsCoupon:"singleGoodsCoupon-2nnrz",textWrap:"textWrap-2_1HF",singleGoodsCoupontext:"singleGoodsCoupontext-1Ky5t",withBg:"withBg-P09fu",footerText:"footerText-13iXh",discount:"discount-2KgG4",icon:"icon-2qbN1"}},19817:function(e){e.exports={container:"container-1r0qF",content:"content-LIP3X",titleWrap:"titleWrap-ZMAZU",title:"title-2MWl3",arrowRight:"arrowRight-2o-uw",close:"close-2GeDa",closeIcon:"closeIcon-1cqS8",listWrap:"listWrap-YUzcb",lineWrap:"lineWrap-3S3bI",item:"item-3JCJc",goodsImgContainer:"goodsImgContainer-fJQet",goodsImg:"goodsImg-3bleV",tagWrap:"tagWrap-2ApsG",priceTag:"priceTag-37cF7",price:"price-3RBGY"}},13638:function(e){e.exports={wrap:"wrap-3PoGg",tagImg:"tagImg-3vRzJ",tagText:"tagText-PGxeo"}},55952:function(e){e.exports={wrap:"wrap-3pcAO",close:"close-2bCB9",closeIcon:"closeIcon-229qE",img:"img-3612k",goodsInfo:"goodsInfo-2TjsB",goodsName:"goodsName-Mkfrx",goodsDesc:"goodsDesc-2u41Y",strategy:"strategy-NMHGA",arrow:"arrow-222UY",enhanceLayer:"enhanceLayer-2InBw",imgWrap:"imgWrap-1Xs4t",imgTag:"imgTag-gypPd",tag:"tag-1buIT"}},75879:function(e){e.exports={container:"container-3HhWh",content:"content-1DRQP",avatarImage:"avatarImage-1L5nk",avatar:"avatar-2hQep"}},95898:function(e){e.exports={container:"container-3iPFs",marketPrice:"marketPrice-2_eP4",discount:"discount-kRZx7"}},90158:function(e){e.exports={wrap:"wrap-2lts5",processWrap:"processWrap-1XGFi",withCart:"withCart-1Dbrp",process:"process-3gPf9",textLine:"textLine-2k1f0",fireIcon:"fireIcon-D-ELf",txt:"txt-qgwvJ"}},48739:function(e){e.exports={mask:"mask-33ZPD",container:"container-3VlFk",content:"content-19U9B",titleWrap:"titleWrap-2fWuO",title:"title-cMWIb",close:"close-2peFr",closeIcon:"closeIcon-3WbRF",recommendsListWrap:"recommendsListWrap-31bx0",recommendList:"recommendList-WjaiU",recommendsWrap:"recommendsWrap-1141X",itemWrap:"itemWrap-dJNza",words:"words-1bmED",imgWrap:"imgWrap-a77ZV",img:"img-2Nspm"}},64964:function(e){e.exports={mask:"mask-1uinl",container:"container-39ve7",content:"content-lpTBQ",titleWrap:"titleWrap-HFkF7",title:"title-7W6Ap",close:"close-2RdZn",closeIcon:"closeIcon-2VLwy",img:"img-1TEHn",releatedWrap:"releatedWrap-DdVxu",goodsDetail:"goodsDetail-1cZXM",goodsName:"goodsName-3PzUW",imgWrap:"imgWrap-2ykAZ",marketPriceWrap:"marketPriceWrap-1UpX6",marketPrice:"marketPrice-31SjR",priceWrap:"priceWrap-1tfVs",goodsPrice:"goodsPrice-20S5-",isWindows:"isWindows-1uCK9",price:"price-2l8U9",pricePrefix:"pricePrefix-2lrep",priceSuffix:"priceSuffix-1NIw4",goodsPriceLong:"goodsPriceLong-jccAI"}},9005:function(e){e.exports={wrap:"wrap-3ieq2",wrapContent:"wrapContent-1CX6f",onlyShowName:"onlyShowName-2x5fI",content:"content-3c2tO",line:"line-ixNX7",countDown:"countDown-14VMT",textWrap:"textWrap-3haB7",newStyle:"newStyle-2PKrI",noLine:"noLine-2gOIH",sixCard:"sixCard-2SsZo",text:"text-iewqI"}},5982:function(e){e.exports={container:"container-1ZUTx",content:"content-2HqOI",titleWrap:"titleWrap-2V5N6",title:"title-cm_Cn",arrowRight:"arrowRight-1dFCl",close:"close-1ZfmD",closeIcon:"closeIcon-2OHL-",listWrap:"listWrap-3YArX",list:"list-2kHcy",items:"items-m0_At",item:"item-2IS1R",goodsImgContainer:"goodsImgContainer-1bF9y",goodsImg:"goodsImg-2fs0H",goodsPriceWrap:"goodsPriceWrap-2NXCP",goodsPrice:"goodsPrice-3sNZs",price:"price-2q13F",pricePrefix:"pricePrefix-1ky0z",priceSuffix:"priceSuffix-1_ydN",isSmall:"isSmall-3MJPj",viewMoreWrap:"viewMoreWrap-29dQi",viewMoreTextWrap:"viewMoreTextWrap-3KGY_",viewMoreLogo:"viewMoreLogo-3V2-v",viewMoreText:"viewMoreText-1pYb5",arrowCls:"arrowCls-3byf6",enhanceLayer:"enhanceLayer-1wGpy"}},35687:function(e){e.exports={mallTagsWrap:"mallTagsWrap-2bDdv",item:"item-1S89K",icon:"icon-3eiab",suffixLogo:"suffixLogo-3urrE",text:"text-2O_rg"}},15830:function(e){e.exports={payTagWrap:"payTagWrap-3pGkS",text:"text-3LMFX",imgWrap:"imgWrap-tOB9F",img:"img-2fvgO"}},15900:function(e){e.exports={qualityAttrTags:"qualityAttrTags-202TM",item:"item-2mzpK"}},37102:function(e){e.exports={goodsWrapper:"goodsWrapper-1ZHEA",goodsImgContainer:"goodsImgContainer-2pZ1k",goodsName:"goodsName-2vpsf",saleInfo:"saleInfo-3oVcD",saleInfoL:"saleInfoL-3z2ct",saleInfoR:"saleInfoR-r-cmg",bottomTips:"bottomTips-1HIyb",self:"self-ZFTyG",quickLookWrap:"quickLookWrap-1F8_T",selfTip:"selfTip-1zmMg"}},52200:function(e){e.exports={similarDialog:"similarDialog-kLmct",bigWidth:"bigWidth-3sqIE",similarGoodsList:"similarGoodsList-3qRCf",title:"title-2z73o",goodsList:"goodsList-txdSd",skeletonList:"skeletonList-3bEn6",cardWrap:"cardWrap-28BL3",similarItemsTitle:"similarItemsTitle-1HV2f",similarMainGoods:"similarMainGoods-3QLCp",active:"active-qnpQy",goodsImageWrap:"goodsImageWrap-3zxgc",addCartBtn:"addCartBtn-QtvR2",goodsDetailWrap:"goodsDetailWrap-yLhTV",goodsDetail:"goodsDetail-2hKuc",goodsName:"goodsName-2ONWQ",priceWrap:"priceWrap-1EH_J",goodsPrice:"goodsPrice-2O_Pk",pricePrefix:"pricePrefix-2Difa",priceSuffix:"priceSuffix-2IxRj",marketPrice:"marketPrice-21JoS"}},67629:function(e){e.exports={similarEntry:"similarEntry-2p8Z2",withVideo:"withVideo-12ukI",similarEntryIcon:"similarEntryIcon-iU3WY",similarTag:"similarTag-3h2e9",similarTagContent:"similarTagContent-_gWD4"}},24465:function(e){e.exports={skcWrapper:"skcWrapper-1QcBu",skcListWrapper:"skcListWrapper-3oZ0J",bubbleWrap:"bubbleWrap-3N42h",skcItemWrapper:"skcItemWrapper-1-B7Y",bubbleArrowWrap:"bubbleArrowWrap-2FkYh",bubbleArrow:"bubbleArrow-16uni",active:"active-2jY75",skcWrapper8:"skcWrapper8-V04zg",skcImg:"skcImg-2qoSw",skcNumWrap:"skcNumWrap-A6JWh",skuNumBlank:"skuNumBlank-NgqtE",skuNumMain:"skuNumMain-3lfvD",skcNum:"skcNum-2uTaI",skcWrapperLess8:"skcWrapperLess8-3rTsh"}},33780:function(e){e.exports={headTagWrap:"headTagWrap-2c3DO"}},39867:function(e){e.exports={localTag:"localTag-3LZD6",hasBg:"hasBg-277hv",icon:"icon-1xf9s",text:"text-Hgkh_"}},86083:function(e){e.exports={container:"container-3vtIT",content:"content-38znH",header:"header-3UsTK",singleLine:"singleLine-1Tcov",footer:"footer-2Q3mW",footerText:"footerText-3z5Yi",countDown:"countDown-2K2O2",double:"double-3asVj",isCenter:"isCenter-3DYcj",promotionStyle1:"promotionStyle1-3IQrR",showFlashSeparator:"showFlashSeparator-ukN4w",flashClockImg:"flashClockImg-2YSvh",image:"image-2oyAX",sixCard:"sixCard-2D0Oj",isCountDownDays:"isCountDownDays-1cdrN",isMore:"isMore-cYsL8",flashLine:"flashLine-1Km2N"}},91816:function(e,t,n){"use strict";n.d(t,{Z:function(){return no}});n(31002),n(36867),n(91560);var r=n(87184),a=n(72779),o=n.n(a),i=n(6552),l=n(85453),s=n(34276),c=(n(60452),n(23395),n(69632),n(87246),n(93801),n(17385),n(78529),n(44936),n(44718),n(79417)),u=n(40312),d=n(44408),f=n(34379),m=n(95239),p=n(86867),g=n(78707),v=n(94872),h=n(54611),y=n(13980),b=n.n(y),w=n(82770),S=n(74411);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e){var t=e.rootMargin,n=e.rootRef,a=e.children,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["rootMargin","rootRef","children"]),i=E((0,r.useState)(null),2),l=i[0],s=i[1],c=void 0===n,u=c?(0,r.useRef)(null):n;(0,r.useEffect)((function(){var e={thresholds:t};u&&(e.container=u.current);var n=new w.Z(e);return s(n),function(){return n.destroy()}}),[]);var d=(0,r.useMemo)((function(){return{lazyLoader:l}}),[l]);return r.createElement(S.Z.Provider,{value:d},c?r.createElement("div",T({ref:u},o),a):a)}I.propTypes={rootMargin:b().string,rootRef:b().object,children:b().node.isRequired,thresholds:b().string},I.defaultProps={rootMargin:"300px",thresholds:"300px"};var x=n(96910),C=n(30593),N=n(3207),_=n(86644),P=n(91455),W=n(7872),A=n(6232),L=n(40846),O=n(32717),R=n(23439),j=(n(45483),n(13560)),M=n(33780),D=n.n(M),G=function(e){var t=e.className,n=e.data,a=((null==n?void 0:n.extMap)||{}).discountPromotionTag,i=("string"==typeof a?(0,d.as)(a,{}):a)||{},l=i.text_color,s=i.bg_url,c=i.height,u=i.text,f=i.text_dx,m=i.width;return s&&c&&m?r.createElement("div",{style:{width:m,height:c,lineHeight:c+"px",backgroundImage:"url("+s+")",color:l,paddingInlineStart:f},className:o()(D().headTagWrap,t)},u):null},U=n(39867),Z=n.n(U);var z=(0,r.memo)((function(e){var t,n,a,i=e.data,l=e.className,s=(e.lazy,i||{}),c=s.text,u=s.color,d=s.backColor;return c?r.createElement("div",{style:{color:u,background:d},className:o()(Z().localTag,l,(t={},n=Z().hasBg,a=!!d,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},r.createElement("span",{className:Z().text},c)):null})),B=(n(69867),n(34211)),F=n.n(B),H={1:"normal",2:"500",3:"700",4:"400"},q=(0,r.memo)((function(e){var t,n=e.data,a=e.className,i=(n||{}).extMap;if(!(null==i?void 0:i.activityDiscountWatermark))return null;try{t=JSON.parse(null==i?void 0:i.activityDiscountWatermark)}catch(e){}var l=t||{},s=l.first_part_text,c=l.second_part_text,u=l.text_color,d=l.bg_color,f=l.first_part_text_font_style,m=l.second_part_text_font_style;if(!s&&!c)return null;var p=s&&c;return r.createElement("div",{style:{color:u,background:d},className:o()(F().tag,a)},!!s&&r.createElement("span",{className:F().firstText,style:{fontWeight:H[f]}},s),!!p&&r.createElement("div",{className:F().line}),!!c&&r.createElement("span",{style:{fontWeight:H[m]}},c))})),Y=n(33026),V=n.n(Y);var K=(0,r.memo)((function(e){var t,n=e.titleHeaderTags,a=e.watermarkBeforeName,i=e.className,l=e.lazy;if(!(null==n?void 0:n.length))return null;var s,c,u,d=!!(null==n||null==(t=n.find((function(e){return(null==e?void 0:e.marketingTagType)===j.s7.localWareHouseTag})))?void 0:t.backColor);return r.createElement("div",{className:o()(V().titleTagWrap,(s={},c=V().top,u=d,c in s?Object.defineProperty(s,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[c]=u,s),i)},null==n?void 0:n.map((function(e){var t=(e||{}).marketingTagType;return t===j.s7.titleHeaderPromotionTag&&a?r.createElement(G,{data:e,className:V().titleTag}):t===j.s7.localWareHouseTag?r.createElement(z,{data:e,className:V().titleTag,lazy:!!l}):t===j.s7.discountTag?r.createElement(q,{data:e,className:V().titleTag}):void 0})))})),J=n(98809),Q=n(85938),X=n(67407),$=n.n(X);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ne.apply(this,arguments)}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae=function(e){var t,n,a=e.children,i=e.className,l=e.gap,s=void 0===l?24:l,c=(0,r.useRef)(),u=(0,r.useRef)(),d=re((0,r.useState)(!1),2),f=d[0],m=d[1],p=s?{marginInlineStart:s+"px"}:{},g=r.createElement("div",{className:$().item,style:p},a);(0,r.useEffect)((function(){c.current&&u.current&&(u.current.offsetWidth<=c.current.offsetWidth||m(!0))}),[]);var v=null!=(n=null==(t=u.current)?void 0:t.offsetWidth)?n:0,h=f?{width:v+s,animationDuration:33*(v+s)+"ms",animationDelay:"300ms"}:{};return r.createElement("div",{className:o()($().carouseWrap,i,te({},$().moveWrap,f)),ref:c},r.createElement("div",{className:o()($().content,te({},$().move,f)),style:ne({},h)},r.createElement("div",{className:$().item,ref:u},a),!!f&&g))},oe=n(11100),ie=n.n(oe);var le=(0,g.Pf)((function(e){var t,n,a,i=e.data,l=e.className,s=(null==i?void 0:i[0])||{},c=s.text,u=s.url;return c?r.createElement(ae,{className:o()(ie().wrap,l,(t={},n=ie().link,a=!!u,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)),gap:24},r.createElement("span",{onClick:function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),u&&(0,Q.xw)((0,Q.YK)(u))}},c),!!u&&r.createElement(J.Z,{className:ie().icon})):null})),se=(0,r.memo)(le),ce="discount_price_timeout",ue="discount_price_info_update",de=n(2642),fe=n(4628),me=n(95066);function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ge(o,r,a,i,l,"next",e)}function l(e){ge(o,r,a,i,l,"throw",e)}i(void 0)}))}}function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var we={title:"",recommendWords:[]};n(69460);var Se="releatedGoodsIdList",ke=function(){try{0;var e=window.sessionStorage.getItem(Se);return e&&JSON.parse(e)}catch(e){return[]}},Te="forwardGoodsDetail",Ee=function(){try{0;var e=window.sessionStorage.getItem(Te);return e&&JSON.parse(e)}catch(e){return{}}},Ie="BGGoodsDetailStatusNotification";function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ce(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ce(o,r,a,i,l,"next",e)}function l(e){Ce(o,r,a,i,l,"throw",e)}i(void 0)}))}}function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Ae={title:"",goodsList:[]};function Le(e){var t=e.goodsId,n=e.pageSn,a=(e.optType,e.optId),o=e.scene,i=(0,r.useRef)(Ae),l=Pe((0,r.useState)(Ae),2),s=l[0],c=l[1],u=Ne((function(){var e,r,i,l;return We(this,(function(s){switch(s.label){case 0:return r=ke(),[4,(0,me.$h)(me.ce.ADD_CART_SUCCESS_RECOMMEND,{mainGoodsIds:[t],scene:o,goodsBlackIds:(null==r?void 0:r.length)>0?r:[],offset:0,pageSize:3,pageSn:n,frontLeafCateId:a})];case 1:return i=s.sent(),[2,null!=(l=null==i||null==(e=i.result)?void 0:e.data)?l:{}]}}))})),d=Ne((function(){var e,t,n,r,a,o;return We(this,(function(l){switch(l.label){case 0:return(null==(e=i.current)?void 0:e.title)?[2]:[4,u()];case 1:return n=l.sent(),i.current=n,c(n),(r=null==n||null==(t=n.goodsList)?void 0:t[0].goodsId)?(a=ke(),(o=(null==a?void 0:a.length)>0?a.concat(r):[r])&&function(e){try{if(!e)return;var t=JSON.stringify(e);return window.sessionStorage.setItem(Se,t),!0}catch(e){return!1}}(o),[2]):[2]}}))}));return _e({},s||{},{loadData:d,clear:function(){var e;return!!(null==(e=i.current)?void 0:e.title)&&(i.current=Ae,c(Ae),!0)}})}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De=function(e){var t=e.personalizationTagRef,n=e.efficiencyTagWidth,a=Me((0,r.useState)(!n),2),o=a[0],i=a[1];return(0,r.useEffect)((function(){var e;if(t.current&&n){var r,a=(null!=(r=null==(e=t.current.parentNode)?void 0:e.clientWidth)?r:0)-10,o=t.current.offsetWidth;i(!(o+n>a))}}),[n,t]),{showPersonalization:o}},Ge=n(94618),Ue=n(34185);n(92374);function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function ze(e){var t,n,r=e.unique_id,a=e.goods_id,o=e.item;return r?""+((null==o||null==(t=o.data)?void 0:t.uniqueId)||(null==o?void 0:o.uniqueId))==""+r:""+((null==o||null==(n=o.data)?void 0:n.goodsId)||(null==o?void 0:o.goodsId))==""+a}var Be=function(e,t,n,r){var a=r||{},o=a.onSkuPanelClose,i=a.onSkuPanelClear,l=a.onSkuPanelSuccess,s=!o&&!i&&!l,c=t||{},u=c.goods_id,d=c.unique_id,f=c.status||{},m=f.out_of_stock,p=f.un_add_cart,g=f.un_add_cart_search;if(!u&&!d)return e;var v,h,y,b,w,S,k,T,E,I,x,C,N,_,P,W,A,L,O=n||{},R=O.isBackAutoShowCategoryCard,j=O.isBackAutoShowRecommendWords,M=O.isShowRecommendWords,D=O.isShowReleatedGoods,G=O.isBackAutoShowReleatedGoods,U=O.isShowSimilar,Z=!1,z=e.find((function(e){return ze(Ze({},t||{},{item:e}))})),B=z&&(_=(null==(v=z)||null==(y=v.data)||null==(h=y.extendFields)?void 0:h.gdReturnShowOpt)||(null==v||null==(b=v.extendFields)?void 0:b.gdReturnShowOpt),P=(null==v||null==(S=v.data)||null==(w=S.extendFields)?void 0:w.gdReturnShowRecommendWords)||(null==v||null==(k=v.extendFields)?void 0:k.gdReturnShowRecommendWords),W=(null==v||null==(E=v.data)||null==(T=E.extendFields)?void 0:T.showRecommendWordsOnSkuClose)||(null==v||null==(I=v.extendFields)?void 0:I.showRecommendWordsOnSkuClose),A=(null==v||null==(C=v.data)||null==(x=C.extendFields)?void 0:x.showSimilarItemsOnSkuClose)||(null==v||null==(N=v.extendFields)?void 0:N.showSimilarItemsOnSkuClose),L=Ze({},v,{autoShowCategoryCardCount:0,autoShowRecommendWordsCount:0,autoShowReleatedGoodsCount:0,autoShowSimilarCount:0,addAutoShowSkuQuery:!1}),p&&(Z=!0,Object.assign(L,{addAutoShowSkuQuery:!0})),i?(Z=!0,L):v.autoShowReleatedGoodsCount>0?v:G&&!p&&s||D&&l?(Z=!0,Ze({},L,{autoShowReleatedGoodsCount:v.autoShowReleatedGoodsCount||1})):U&&A&&o?(Z=!0,Ze({},L,{autoShowSimilarCount:v.autoShowSimilarCount||1})):R&&_&&(m||p)?(Z=!0,Ze({},L,{autoShowCategoryCardCount:v.autoShowCategoryCardCount||1})):j&&P&&g||M&&W&&o?(Z=!0,Ze({},L,{autoShowRecommendWordsCount:v.autoShowRecommendWordsCount||1})):L),F=e.map((function(e){return ze(Ze({},t||{},{item:e}))?B:Ze({},e,{autoShowCategoryCardCount:B&&B.autoShowCategoryCardCount>0?0:e.autoShowCategoryCardCount||0,autoShowRecommendWordsCount:B&&B.autoShowRecommendWordsCount>0?0:e.autoShowRecommendWordsCount||0,autoShowReleatedGoodsCount:e.autoShowReleatedGoodsCount||0,autoShowSimilarCount:e.autoShowSimilarCount||0,addAutoShowSkuQuery:e.addAutoShowSkuQuery||!1})}));return Z&&function(){try{return window.localStorage.removeItem(Ie),!0}catch(e){return!1}}(),Z?F:e},Fe=function(e){var t=e.setDatasource,n=e.props,a=n||{},o=a.isBackAutoShowSimilar,i=a.isBackAutoShowCategoryCard,l=a.isBackAutoShowRecommendWords,s=a.isBackAutoShowReleatedGoods,c=o||i||l||s;(0,r.useEffect)((function(){if(c){var e=function(){try{if(!("visible"===document.visibilityState))return;var e=function(){try{var e=window.localStorage.getItem(Ie);return e&&JSON.parse(e)}catch(e){return{}}}(),r=Ee();if(!(null==e?void 0:e.status)||!(null==e?void 0:e.goods_id))return;var a=e;""+e.goods_id==""+(null==r?void 0:r.goods_id)&&(null==r?void 0:r.unique_id)&&(a.unique_id=r.unique_id),t((function(e){return Be(e,a,n)}))}catch(e){}};return window.addEventListener("visibilitychange",e),function(){c&&window.removeEventListener("visibilitychange",e)}}}),[])},He=n(53835),qe=n(80471),Ye=n(21737),Ve=(n(67904),n(57205)),Ke=n(31859);function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}var Qe=function(e,t){var n,a=(0,v.$)("bec-fe.svg-icons-h5"),o=a.t,i=a.i18n;return r.createElement(Ke.l,Je({},e,{"aria-label":null!=(n=e["aria-label"])?n:i.exists("aria-label.CommonWrong",{ns:"bec-fe.svg-icons-h5"})?o("aria-label.CommonWrong"):void 0,ref:t,path:"M266.2 174.1l245.7 245.7 245.9-245.7c25.4-25.4 66.7-25.4 92.1 0 25.4 25.4 25.4 66.7 0 92.1l-245.8 245.7 245.8 245.9c25.4 25.4 25.4 66.7 0 92.1-25.4 25.4-66.7 25.4-92.1 0l-245.9-245.8-245.7 245.8c-25.4 25.4-66.7 25.4-92.1 0-25.4-25.4-25.4-66.7 0-92.1l245.7-245.9-245.7-245.7c-25.4-25.4-25.4-66.7 0-92.1 25.4-25.4 66.7-25.4 92.1 0z"}))},Xe=r.forwardRef(Qe);function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}var et=function(e,t){var n,a=(0,P.lO)()||{},o=(0,v.$)("bec-fe.svg-icons-h5"),i=o.t,l=o.i18n,s="M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 40.1c-260.6 0-471.9 211.3-471.9 471.9 0 260.6 211.3 471.9 471.9 471.9 260.6 0 471.9-211.3 471.9-471.9 0-260.6-211.3-471.9-471.9-471.9z m-37.9 303.6l2.7 2.4 144.6 150.6c7.2 7.5 8 18.8 2.4 27.2l-2.4 3-144.6 151c-8.3 8.7-22.1 9-30.8 0.7-7.8-7.5-8.9-19.4-2.9-28.1l2.2-2.7 130.1-135.9-130.1-135.7c-8.3-8.7-8.1-22.5 0.6-30.8 7.8-7.5 19.8-8 28.2-1.7z",c="M512 0c-282.8 0-512 229.2-512 512 0 282.8 229.2 512 512 512 282.8 0 512-229.2 512-512 0-282.8-229.2-512-512-512z m0 40.1c260.6 0 471.9 211.3 471.9 471.9 0 260.6-211.3 471.9-471.9 471.9-260.6 0-471.9-211.3-471.9-471.9 0-260.6 211.3-471.9 471.9-471.9z m37.9 303.6l-2.7 2.4-144.6 150.6c-7.2 7.5-8 18.8-2.4 27.2l2.4 3 144.6 151c8.3 8.7 22.1 9 30.8 0.7 7.8-7.5 8.9-19.4 2.9-28.1l-2.2-2.7-130.1-135.9 130.1-135.7c8.3-8.7 8.1-22.5-0.6-30.8-7.8-7.5-19.8-8-28.2-1.7z",u=(0,r.useMemo)((function(){var e,t,n;return("boolean"==typeof a.isRTL?a.isRTL:"rtl"===(null==(n=document)||null==(t=n.documentElement)||null==(e=t.getAttribute)?void 0:e.call(t,"dir")))?c:s}),[a.isRTL,c,s]);return r.createElement(Ke.l,$e({},e,{"aria-label":null!=(n=e["aria-label"])?n:l.exists("aria-label.TongyongChakansuoyou",{ns:"bec-fe.svg-icons-h5"})?i("aria-label.TongyongChakansuoyou"):void 0,ref:t,path:u}))},tt=r.forwardRef(et),nt=n(12436),rt=n.n(nt),at=n(25057),ot=n(52449),it=n.n(ot);function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ut=function(e){var t=e.column,n=e.len,a=e.renderCustomPageTurner,i=e.classConfig,l=(0,P.lO)().isRTL,s=(0,r.useRef)(null),c=ct((0,r.useState)(1),2),u=c[0],d=c[1],f=ct((0,r.useState)([]),2),m=f[0],p=f[1],g=l?1:-1,v=u-1,h=(0,r.useMemo)((function(){return v+t>=n?{transform:"translate3d("+(m[n-1]||0)*g+"px, 0px, 0px)"}:{transform:"translate3d("+(m[v]||0)*g+"px, 0px, 0px)"}}),[v,m]),y=(0,r.useCallback)((function(){d(1)}),[]),b=(0,r.useCallback)(rt()((function(){var e=[],t=s.current;if(!t)return p([]);for(var n=t.children,r=t.getBoundingClientRect()||{},a=l?r.right:r.left,o=t.scrollWidth-t.clientWidth,i=0;i<n.length;i++){var c=n[i].getBoundingClientRect()||{};e.push(Math.min(Math.abs((l?c.right:c.left)-a),o))}return p(e)}),30),[]);(0,r.useEffect)((function(){if(s.current)return b(),window.addEventListener("resize",b),function(){window.removeEventListener("resize",b)}}),[]);var w=function(e,r){if(null==r||r.stopPropagation(),null==r||r.preventDefault(),s.current){var a="next"===e?u+t:u-t,o=Math.min(Math.max(a,1),n-t+1);b(),d(o)}};return{slidesRef:s,listStyle:h,renderPageTurner:function(){return n<=t?null:a?a({cardNo:u,onArrowClick:w,column:t,len:n}):r.createElement(r.Fragment,null,r.createElement("div",{className:o()(it().arrowWrap,it().arrowLeft,null==i?void 0:i.arrowCls)},r.createElement("div",{className:o()(it().arrow,st({},it().hide,0===v)),onClick:function(e){return w("prev",e)}},r.createElement(at.Z,{className:it().innerArrowLeft}))),r.createElement("div",{className:o()(it().arrowWrap,it().arrowRight,null==i?void 0:i.arrowCls)},r.createElement("div",{className:o()(it().arrow,st({},it().hide,v+t>=n)),onClick:function(e){return w("next",e)}},r.createElement(Ve.Z,{className:it().innerArrowRight}))))},onArrowClick:w,resetCardNo:y}},dt=n(58317),ft=n(5982),mt=n.n(ft);function pt(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){pt(o,r,a,i,l,"next",e)}function l(e){pt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}function ht(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var yt=function(e){var t=(0,v.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,a=e.title,i=void 0===a?t("similar.title"):a,l=e.linkURL,s=e.goodsList,c=e.viewMoreText,u=void 0===c?t("similar.viewMore"):c,d=e.onClose,f=e.onClickTitle,p=e.onClickViewMoreBtn,g=e.loggerParams,y=e.webpEnable,b=e.commonTrackingInfo,w=e.trackingGoodsInfo,S=e.isSmall,k=e.pageSn,T=ut({column:3,len:s.length+1,classConfig:{arrowCls:mt().arrowCls}}),E=T.slidesRef,I=T.listStyle,N=T.renderPageTurner,_=null!=g?g:{},P=_.main,W=void 0===P?205632:P,A=_.title,L=void 0===A?205652:A,O=_.viewMore,j=void 0===O?205633:O,M=_.goods,D=void 0===M?205634:M,G=vt({},b||{},w||{},{main_goods_id:n,source_goods_id:n}),U=(0,r.useCallback)((function(e,t){return gt((function(){return ht(this,(function(n){switch(n.label){case 0:return[4,(0,x.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,de.jm)((0,m.ru)({refer_page_el_sn:D},(0,qe.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[G]),Z=(0,r.useCallback)(gt((function(e){return ht(this,(function(t){switch(t.label){case 0:return[4,(0,x.ax)({page_el_sn:j}).catch((function(){}))];case 1:return t.sent(),p?p(e):l&&(0,de.jm)((0,qe.av)(l),{openTarget:"_blank"}),[2]}}))})),[]),z=(0,r.useCallback)(gt((function(e){return ht(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,x.ax)({page_el_sn:L}).catch((function(){}))];case 1:return t.sent(),f?f(e):l&&(0,de.jm)((0,qe.av)(l),{openTarget:"_blank"}),[2]}}))})),[]);if(!s||0===s.length)return null;var B=(u||"").slice(0,8);return(u||"").slice(8).split("").forEach((function(e){e&&(B+=" "===e?" ":e+"­")})),r.createElement(C.ZP,{payload:vt({},G,{page_el_sn:W})},r.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()},className:mt().enhanceLayer},r.createElement(dt.Z,{HWRatio:"calc(42.1875% + 34px)",className:mt().container,childContainerClassName:mt().content},r.createElement(C.ZP,{payload:vt({},G,{page_el_sn:L})},r.createElement("div",{className:mt().titleWrap},r.createElement("div",{className:mt().title,onClick:z},i,r.createElement(Ve.Z,{className:mt().arrowRight})),r.createElement("div",{className:mt().close,onClick:d},r.createElement(Xe,{className:mt().closeIcon})))),r.createElement("div",{className:mt().listWrap},r.createElement("div",{className:mt().list},r.createElement("div",{className:mt().items,ref:E,style:I},s.map((function(e,t){var n,a,i,l,s=e.seoLinkUrl,c=e.linkUrl,u=e.priceInfo,d=e.goodsId,f=e.pRec,p=e.pSearch,g=e.extendFields,v=null!=f?f:{},b=v.show_price,w=v.show_currency,T=v.show_sales,E=(g||{}).engIcon,I=vt({},G,{page_el_sn:D,goods_id:d,rec_goods_id:d,idx:t,p_rec:JSON.stringify(f),p_search:p,show_price:b,show_currency:w,show_sales:T}),x=(0,qe.Ig)(u,"",k,d),N=x.unitPrefix,_=x.showPriceStr,P=x.unitSuffix,W=x.priceColor,A=vt({},W?{color:W}:{});return r.createElement(C.ZP,{key:e.goodsId,payload:I},r.createElement("div",{className:mt().item,onClick:U(I,s||c)},r.createElement(dt.Z,{HWRatio:1,className:mt().goodsImgContainer},r.createElement(h.ZP,{src:(0,m.Hm)(e.hdThumbUrl||e.thumbUrl||(null==(n=e.image)?void 0:n.url)||""),className:mt().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:y},alt:e.title||e.goodsName||"","aria-hidden":!0}),!!(null==E?void 0:E.engThumbUrl)&&r.createElement(R.Z,{data:E,goodsId:d,size:"s"})),r.createElement("div",{className:mt().goodsPriceWrap},r.createElement("div",{className:mt().goodsPrice,style:A},N?r.createElement("span",{className:mt().pricePrefix},N):null,r.createElement("span",{className:o()(mt().price,(a={},i=mt().isSmall,l=S,i in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a))},_),P?r.createElement("span",{className:mt().priceSuffix},P):null))))})),r.createElement(C.ZP,{payload:vt({},G,{page_el_sn:j})},r.createElement("div",{className:o()(mt().viewMoreWrap),onClick:Z},r.createElement("div",{className:mt().viewMoreTextWrap},r.createElement(tt,{className:mt().viewMoreLogo}),r.createElement("div",{className:mt().viewMoreText},B)))))),N()))))},bt=(0,r.memo)(yt),wt=n(4790),St=n(19817),kt=n.n(St);function Tt(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Et(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Tt(o,r,a,i,l,"next",e)}function l(e){Tt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function It(){return It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}function xt(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Ct=(0,g.Pf)((0,r.memo)((function(e){var t=(0,v.$)("bec-fe.bui-web-goods-list").t,n=e.mainGoodsId,a=e.title,o=void 0===a?t("similar.title"):a,i=e.linkURL,l=e.goodsList,s=e.onClose,c=e.onClickTitle,u=e.loggerParams,d=e.webpEnable,f=e.commonTrackingInfo,p=e.trackingGoodsInfo,g=e.pageSn,y=null!=u?u:{},b=y.main,w=void 0===b?205632:b,S=y.title,k=void 0===S?205652:S,T=y.goods,E=void 0===T?205634:T,I=It({},f||{},p||{},{main_goods_id:n,source_goods_id:n}),N=(0,r.useCallback)((function(e,t){return Et((function(){return xt(this,(function(n){switch(n.label){case 0:return[4,(0,x.ax)(e).catch((function(){}))];case 1:return n.sent(),(0,de.jm)((0,m.ru)({refer_page_el_sn:E},(0,qe.av)(t)),{openTarget:"_blank"}),[2]}}))}))}),[E]),_=(0,r.useCallback)(Et((function(e){return xt(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),[4,(0,x.ax)({page_el_sn:k}).catch((function(){}))];case 1:return t.sent(),c?c(e):i&&(0,de.jm)((0,qe.av)(i),{openTarget:"_blank"}),[2]}}))})),[]);if(!l||0===l.length)return null;var P=function(e,t){var n=e.seoLinkUrl,a=e.linkUrl,o=e.priceInfo,i=e.goodsId,l=e.pRec,s=e.pSearch,c=e.extendFields,u=e.hdThumbUrl,f=e.thumbUrl,p=e.image,v=e.title,y=e.goodsName,b=null!=l?l:{},w=b.show_price,S=b.show_currency,k=b.show_sales,T=(c||{}).engIcon,x=It({},I,{page_el_sn:E,goods_id:i,rec_goods_id:i,idx:t,p_rec:JSON.stringify(l),p_search:s,show_price:w,show_currency:S,show_sales:k}),_=(0,qe.Ig)(o,"",g,i),P=_.unitPrefix,W=_.showPriceStr,A=_.unitSuffix,L=_.priceColor,O=It({alignItems:A?"baseline":"center"},L?{color:L}:{});return r.createElement(C.ZP,{key:i,payload:x},r.createElement("div",{className:kt().item,onClick:N(x,n||a)},r.createElement(dt.Z,{HWRatio:1,className:kt().goodsImgContainer},r.createElement(h.ZP,{src:(0,m.Hm)(u||f||(null==p?void 0:p.url)||""),className:kt().goodsImg,lazy:!1,processParam:{resizeWidth:160,webpEnable:d},alt:v||y||"","aria-hidden":!0}),!!(null==T?void 0:T.engThumbUrl)&&r.createElement(R.Z,{data:T,goodsId:i,size:"s"}),r.createElement("div",{className:kt().tagWrap},r.createElement(wt.V,{type:"gray",className:kt().priceTag},r.createElement("div",{style:O,className:kt().price},P?r.createElement("span",null,P):null,r.createElement("span",null,W),A?r.createElement("span",null,A):null))))))},W=l.slice(0,2).map(P),A=l.slice(2,4).map(P);return r.createElement(C.ZP,{payload:It({},I,{page_el_sn:w})},r.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()}},r.createElement(dt.Z,{HWRatio:"calc(100% + 18px)",className:kt().container,childContainerClassName:kt().content},r.createElement(C.ZP,{payload:It({},I,{page_el_sn:k})},r.createElement("div",{className:kt().titleWrap},r.createElement("div",{className:kt().title,onClick:_},r.createElement("span",null,o),r.createElement(Ve.Z,{className:kt().arrowRight})),r.createElement("div",{className:kt().close,onClick:s},r.createElement(Xe,{className:kt().closeIcon})))),r.createElement("div",{className:kt().listWrap},r.createElement("div",{className:kt().lineWrap},W),r.createElement("div",{className:kt().lineWrap},A)))))}))),Nt=n(83398),_t=n(3265),Pt=n(40800),Wt=n(35829),At=n(40600),Lt=n(24376),Ot=n(82226),Rt=n(26381),jt=n(97319),Mt=n(37102),Dt=n.n(Mt);function Gt(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Gt(o,r,a,i,l,"next",e)}function l(e){Gt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Bt(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Ft=(0,r.memo)((function(e){var t,n,a,i,l,s=e.key,c=e.index,u=e.isWindows,d=e.pageSn,p=e.webpEnable,g=e.goodsInfo,h=e.quickLook,y=e.skuParams,b=e.openGoodsWithNewTab,w=e.className,S=e.mainGoodsId,k=e.grayConfig,T=(0,v.$)("bec-fe.bui-web-goods-list").t,E=g||{},I=E.title,N=E.image,_=E.thumbUrl,P=E.priceInfo,W=E.linkUrl,A=E.seoLinkUrl,O=E.pageAlt,j=E.quickLook,M=E.cartAmount,D=E.specIds,G=E.goodsId,U=E.showMarketInfo,Z=E.salesTipText,z=E.salesTipTextList,B=E.pRec,F=E.uniqueId,H=E.gcId,q=E.gcGoodsList,Y=E.extendFieldsForSku,V=E.extendFields,K=void 0===V?{}:V,J=K.skuExtraParam,X=void 0===J?{}:J,$=K.engIcon,ee=void 0===$?{}:$,te=!!(null==k||null==(t=k.cp59723)?void 0:t.value),ne=(0,Ge.Z)({salesTipText:Z,salesTipTextList:z}),re=ne.salesTipValue,ae=ne.useNewSalesTip,oe=re,ie=zt({open:!0},j||{},h||{},{type:1}),le=(0,r.useMemo)((function(){return{showGoodsImg:(null==N?void 0:N.url)||_,showPriceInfo:(0,qe.Ig)(P,"",d,G),showLinkUrl:W,showSeoLinkUrl:A}}),[N,_,P,A,W]),se=le.showGoodsImg,ce=le.showPriceInfo,ue=le.showSeoLinkUrl,fe=le.showLinkUrl,me={show_currency:null==P?void 0:P.currency,show_price:(null==P?void 0:P.price)||((null==P||null==(n=P.priceText)?void 0:n.length)>1?100*+P.priceText[1]:""),show_sales:oe&&oe.length>0?oe[0]:"",p_rec:JSON.stringify(B)},pe=zt({page_el_sn:222270,idx:c,main_goods_id:S,goods_id:G,source_goods_id:S,rec_goods_id:G,unique_id:F,gc_id:H,gc_goods_list:null!=(i=null==q||null==(a=q.join)?void 0:a.call(q,","))?i:null},me),ge=zt({page_el_sn:200061,goods_id:G,goods_btn_idx:c},me),ve=(0,Ue.Z)({cartAmount:(null==g?void 0:g.cartAmount)||M||0,imprEventData:ge,clickEventData:ge,pageSn:d,params:zt({goods_id:G,_oak_spec_ids:D||"",gc_id:H,gc_goods_list:q},(0,f.D1)(Y||{}),y||{},(0,f.D1)(X||{})),cartScene:289}),he=ve.cartAmount,ye=ve.onClick,be=(0,r.useMemo)((function(){return(0,Q.YK)(ue&&0!==(null==ue?void 0:ue.indexOf("?"))?ue:fe)}),[ue,fe]),we=(0,r.useCallback)(Ut((function(){var e;return Bt(this,(function(t){switch(t.label){case 0:return[4,(0,x.ax)(pe).catch((function(){}))];case 1:return t.sent(),se&&(0,L.p)(se,p),e={},b&&(e={openTarget:"_blank"}),be&&(0,de.jm)((0,m.ru)({refer_page_el_sn:222270},be),e),[2]}}))})),[]);return r.createElement(C.ZP,{payload:pe},r.createElement("div",{className:o()(Dt().goodsWrapper,w),onClick:we,key:s},r.createElement(dt.Z,{HWRatio:1,className:Dt().goodsImgContainer},!!se&&r.createElement(Wt.Z,{useEmage:te,alt:O||I,lazy:!0,src:se,processParam:{webpEnable:p,resizeWidth:388}}),!!(null==ee?void 0:ee.engThumbUrl)&&r.createElement(R.Z,{data:ee,goodsId:G}),(l=+G==+S,r.createElement("div",{className:o()(Dt().bottomTips,Zt({},Dt().self,l))},l?r.createElement("div",{className:Dt().selfTip},T("thisItem")):r.createElement("div",{className:Dt().quickLookWrap},(null==ie?void 0:ie.open)?r.createElement(Lt.Z,zt({},ie,{addCart:ye,webpEnable:p,lazy:!0})):null)))),r.createElement(Ot.Z,{name:I,className:Dt().goodsName}),r.createElement("div",{className:Dt().saleInfo},r.createElement(Rt.Z,{price:null==ce?void 0:ce.showPriceStr,pricePrefix:ce.unitPrefix,priceSuffix:ce.unitSuffix,priceColor:ce.priceColor,marketPrice:U?null:ce.showMarketPriceStr,isWindows:u,lazy:!0,webpEnable:p,className:Dt().saleInfoL,useNewSalesTip:ae,marketPriceIcon:null==ce?void 0:ce.marketPriceIcon}),r.createElement(jt.Z,{cartAmount:he,addCart:ye,className:Dt().saleInfoR,grayConfig:k}))))})),Ht=n(52200),qt=n.n(Ht);function Yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Kt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Vt(o,r,a,i,l,"next",e)}function l(e){Vt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt.apply(this,arguments)}function Qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var $t=function(e){var t,n=e.openGoodsWithNewTab,a=e.mainGoodsId,l=e.isWindows,s=e.webpEnable,c=e.pageSn,d=e.quickLook,f=e.onClose,m=e.addCart,p=e.goodsInfo,g=e.priceInfo,h=e.skuParams,y=e.grayConfig,b=e.onMainGoodsClick,w=e.mainGoodsForwardToGoodDetail,S=(0,v.$)("bec-fe.bui-web-goods-list").t,k=Qt((0,r.useState)(!0),2),T=k[0],E=k[1],I=Qt((0,r.useState)([]),2),x=I[0],N=I[1],_=(0,r.useRef)({goodsList:x}),W=(0,r.useRef)(""),A=(0,P.lO)().localInfo,L=p.goodsId,O=p.title,j=p.thumbUrl,M=p.priceColor,D=(p.extendFields||{}).engIcon,G=void 0===D?{}:D,U=g||{},Z=U.unitPrefix,z=U.showPriceStr,B=U.unitSuffix,F=U.showMarketPriceStr,H=Jt({alignItems:Z?"baseline":"center"},M?{color:M}:{});(0,r.useEffect)((function(){W.current=(0,i.x)(6)+"_quick_rec_find_sim"}),[]);var q=(0,r.useCallback)(Kt((function(){var e,t,n,r,o,i,l,s,u,d,f,m,p;return Xt(this,(function(g){switch(g.label){case 0:return i={listId:W.current,offline:!0,page_size:24,offset:null!=(o=null==_||null==(t=_.current)||null==(e=t.goodsList)?void 0:e.length)?o:0,scene:"sku_panel_find_sim",mainGoodsIds:[a],topGoods:[a],optId:"-1",pageSn:c},[4,(0,me.$h)("/api/poppy/v1/find_sim",i)];case 1:return l=g.sent(),(u=null!=(s=null==l||null==(r=l.result)||null==(n=r.data)?void 0:n.goodsList)?s:[]).length>0&&u[0].goodsId?(m=(null==(d=_.current.goodsList)?void 0:d.length)>0?null==(f=_.current)?void 0:f.goodsList:[],p=m.concat(u[0].goodsId===L?u.slice(1):u),_.current.goodsList=p,N(p)):E(!1),[2]}}))})),[]);(0,r.useEffect)((function(){(null==x?void 0:x.length)||q()}),[]);var Y,V,K,J=(0,r.useCallback)((function(e){var t=e.index,o=e.data;return o.goodsId?r.createElement(Ft,{className:qt().cardWrap,pageSn:c,key:o.goodsId,index:t,goodsInfo:o,webpEnable:s,quickLook:d,isWindows:l,skuParams:h,openGoodsWithNewTab:n,mainGoodsId:a,grayConfig:y}):null}),[]),Q=(0,r.useCallback)((function(e){w&&(null==b||b(e))}),[b,w]),X=(null==y||null==(t=y.cp84010)?void 0:t.value)&&+(null==A?void 0:A.region)===u.k6.uk?S("addCartV2"):S("addCart");return r.createElement(Nt.ZP,{className:o()(qt().similarDialog,qt().bigWidth),onClick:f},r.createElement(C.ZP,{payload:{page_el_sn:222268}},r.createElement("div",{className:qt().title},S("findSimilar"))),r.createElement("div",{className:qt().similarGoodsList},r.createElement("div",{className:o()(qt().similarMainGoods,(Y={},V=qt().active,K=w,V in Y?Object.defineProperty(Y,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):Y[V]=K,Y)),onClick:Q},r.createElement("div",{className:qt().goodsImageWrap},r.createElement(Wt.Z,{useEmage:!0,lazy:!1,src:j,className:qt().goodsImage,processParam:{webpEnable:s,resizeWidth:200}}),!!(null==G?void 0:G.engThumbUrl)&&r.createElement(R.Z,{data:G,goodsId:L,size:"s"})),r.createElement("div",{className:qt().goodsDetailWrap},r.createElement("p",{className:qt().goodsName},O),r.createElement("div",{className:qt().goodsDetail},r.createElement("div",{className:qt().priceWrap},r.createElement("div",{className:qt().goodsPrice,style:H},!!Z&&r.createElement("span",{className:qt().pricePrefix},Z),r.createElement("span",{className:qt().price},z),!!B&&r.createElement("span",{className:qt().priceSuffix},B)),r.createElement("div",{className:qt().marketPrice},F)),r.createElement(_t.Z,{size:"lg",type:"main",className:qt().addCartBtn,onClick:m},X)))),r.createElement("p",{className:qt().similarItemsTitle},S("similar.title")),(null==x?void 0:x.length)>0?r.createElement(Pt.Z,{wrapperClass:qt().goodsList,datasource:x,hasMore:T,loadMoreData:q,renderItem:J,loadMode:"auto",showLoading:!0}):r.createElement("div",{className:qt().skeletonList},new Array(12).fill(0).map((function(e,t){return r.createElement("div",{className:qt().cardWrap,key:t},r.createElement(At.Z,null))})))))},en=(0,r.memo)($t),tn=n(67629),nn=n.n(tn);var rn=(0,r.memo)((function(e){var t,n,a,i=e.showVideoIcon,l=e.onClick,s=e.className,c=(0,v.$)("bec-fe.bui-web-goods-list").t;return r.createElement("div",{className:o()(nn().similarEntry,(t={},n=nn().withVideo,a=i,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t),s),onClick:l},r.createElement(wt.V,{type:"gray",size:"lg",className:nn().similarTag,contentClassName:nn().similarTagContent,icon:r.createElement(J.Z,{className:nn().similarEntryIcon})},c("similar.title")))})),an=n(81959),on=n(97887),ln=n.n(on);function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var un=function(e){var t=e.children,n=e.style,a=void 0===n?{}:n,i=e.className,l=void 0===i?"":i;return r.createElement("div",{className:o()(ln().attributesTag,l),style:a},t)},dn=function(e){var t=e.tags,n=e.grayConfig,r=e.localInfo,a=(null==n?void 0:n.cp85771)||{},o=a.value,i=a.supportRegion,l=void 0===i?[]:i,s=o&&(null==l?void 0:l.includes(+r.region)),c=null==t?void 0:t.find((function(e){return(null==e?void 0:e.tagId)===j.xI.LocalWareHouse})),u=(null==t?void 0:t.map((function(e){return null==e?void 0:e.text})))||[];return{needCarousel:s&&!!c&&(null==u?void 0:u.length)>=2,textList:u}},fn=(0,g.Pf)((function(e){var t=e.tags,n=void 0===t?[]:t,a=e.className,i=void 0===a?"":a,l=e.lazy,s=e.grayConfig,c=e.goodsId,u=e.textClassName,d=(0,P.lO)(),f=d.supportWebp,m=d.localInfo,p=(null==n?void 0:n[0])||{},g=p.text,v=p.color,y=p.url,b=p.tagId,w=p.backColor,S=(0,r.useRef)(null),k=(0,r.useRef)(null),T=cn((0,r.useState)({}),2),E=T[0],I=T[1],x=cn((0,r.useState)(!1),2),C=x[0],N=x[1],_=null==n?void 0:n.find((function(e){return(null==e?void 0:e.tagId)===j.xI.LocalWareHouse})),W=y,A=v,L=dn({tags:n,grayConfig:s,localInfo:m}),O=L.needCarousel,R=L.textList;if(O){var M=_||{};W=M.url,A=M.color}var D,G,U,Z=function(e){var t=e.num,n=e.needCarousel,a=e.containerClassName,o=e.goodsId,i=e.listRef,l=e.perHeight,s=cn((0,r.useState)(""),2),c=s[0],u=s[1];return(0,r.useEffect)((function(){var e;if(n){var r=(null==i||null==(e=i.current)?void 0:e.childNodes)||[],s=[];(null==r?void 0:r.length)&&Array.prototype.forEach.call(r,(function(e){s.push((null==e?void 0:e.offsetWidth)?(null==e?void 0:e.offsetWidth)+1:"")})),function(){for(var e=3*t,n=100/t,r=2.7/e*100,i="loop-"+o,c="@keyframes "+i+" {\n",d=0;d<t;){var f=d*n,m=d*n+r,p=s[d],g="width: "+(p?p+"px":"auto")+";";c=c+(f+"% { transform: translateY(-")+d*l+"px); "+g+" }\n"+m+"% { transform: translateY(-"+d*l+"px); "+g+" }\n",d++}var v=s[0];u("."+a+" {\n            animation: "+i+" "+e+"s ease-out infinite;\n            }"+(c+="100% { transform: translateY(-"+t*l+"px); width: "+(v?v+"px":"auto")+"; }"))}()}}),[a,o,i,n,t,l]),c}({needCarousel:O,num:null==R?void 0:R.length,containerClassName:"textList-"+c,goodsId:c,perHeight:25,listRef:k});return(0,r.useEffect)((function(){var e={};try{if(!S.current)return void N(!0);if(!k.current||!O){var t=S.current.offsetWidth/S.current.scrollWidth,n=Math.max(t,10/13),r=Math.floor(13*n),a=S.current.dataset.tagId;return e[a]={fontSize:r+"px"},I(e),void N(!0)}var o=k.current.querySelectorAll(".tagText");Array.prototype.forEach.call(o,(function(t){return function(t){var n=t.offsetWidth,r=t.scrollWidth,a=t.dataset.tagId;if(!(r<=n)){var o=n/r,i=Math.max(o,10/13),l=Math.floor(13*i);e[a]={fontSize:l+"px"}}}(t)})),I(e),N(!0)}catch(e){(0,an.K2)(e)}}),[O,13]),g?r.createElement(un,{className:o()(i,(D={},G=ln().newStyle,U=!0,G in D?Object.defineProperty(D,G,{value:U,enumerable:!0,configurable:!0,writable:!0}):D[G]=U,D)),style:{color:A,opacity:C?1:0,background:w}},!!Z&&r.createElement("style",null,Z),!!W&&r.createElement(h.ZP,{lazy:l,src:W,className:ln().img,"aria-hidden":!0,processParam:{webpEnable:f},alt:""}),O?r.createElement("div",{className:ln().textListWrap},r.createElement("div",{className:"textList-"+c,ref:k},null==n?void 0:n.map((function(e){var t=e||{},n=t.text,a=t.tagId;return r.createElement("span",{className:o()(ln().text,"tagText",u),"data-tag-id":a,style:E[a]},n)})),r.createElement("span",{className:o()(ln().text,ln().limitWidth,u),ref:S,style:E[b]},g))):r.createElement("span",{className:o()(ln().text,u),"data-tag-id":b,style:E[b],ref:S},g)):null})),mn=(0,r.memo)(fn),pn=n(13638),gn=n.n(pn),vn={1:400,2:500,3:600},hn=function(e){var t,n=e.data,a=e.className,i=e.lazy,l=void 0===i||i;if(!(null==n?void 0:n.length))return null;var s=(null==n?void 0:n[0])||{},c=null==n||null==(t=n[0])?void 0:t.header;if(!(null==s?void 0:s.pw)&&!(null==s?void 0:s.ph))return null;var u={width:256*s.pw+"px",height:256*s.ph+"px",background:s.backColor},d=c&&{fontSize:(null==c?void 0:c.font)+"px",color:null==c?void 0:c.color,fontWeight:vn[null==c?void 0:c.textStyle]}||{};return r.createElement("div",{style:u,className:o()(gn().wrap,a)},(null==s?void 0:s.url)?r.createElement(h.ZP,{alt:null==c?void 0:c.text,src:null==s?void 0:s.url,className:gn().tagImg,lazy:l,"aria-hidden":!0}):null,c?r.createElement("div",{style:d,className:gn().tagText},null==c?void 0:c.text):null)},yn=(0,r.memo)(hn),bn=n(52955),wn=n(6932),Sn=n(47321),kn=n(55952),Tn=n.n(kn);function En(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function In(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function xn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){In(o,r,a,i,l,"next",e)}function l(e){In(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(){return Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nn.apply(this,arguments)}function _n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return En(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pn(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function Wn(e){var t,n=e.pageSn,a=e.goodsId,l=e.closeCategoryCard,s=e.lazy,c=e.webpEnable,u=e.commonTrackingInfo,d=e.trackingGoodsInfo,f=(0,N.X2)(),m=_n((0,r.useState)({}),2),p=m[0],g=m[1],v=_n((0,r.useState)(!1),2),y=v[0],b=v[1],w=(0,r.useRef)(),S=p.optName,k=p.imageUrl,T=p.strategy,E=p.linkUrl,I=p.optId,_=p.pRec,P=p.optType,W=void 0===P?"":P,A=p.strategyColor,L=p.imageTag,O=Nn({},u||{},d||{},(Cn(t={page_el_sn:212491,goods_id:a,opt_id:I,text:T,opt_level:W},"opt_cate"+W+"_id",I),Cn(t,"opt_cate_idx",0),Cn(t,"p_rec",JSON.stringify(_)),t));(0,r.useEffect)((function(){f.start({type:"click"}),f.stageStart("api");var e={listId:(0,i.x)(),offset:0,pageSize:-1,pageSn:n,scene:"gd_return_opt",mainGoodsId:a};(0,me.S6)({url:(0,me.mx)("/api/poppy/v1/opt_list",e),params:e,config:{useAntiToken:!0}}).then((function(e){var t;f.stageEnd("api");var n=e.result,r=(null==(t=(void 0===n?{}:n).data.crumbOptList)?void 0:t[0])||{};g(r)})).catch((function(){}))}),[]);var R=L||{},j=R.text,M=R.color,D=R.bgColor;(0,r.useEffect)((function(){try{if(!j)return;if(!w.current)return;var e=w.current.offsetWidth/w.current.scrollWidth,t=Math.max(10,12*e);w.current.style.fontSize=t+"px",w.current.style.fontWeight="400"}catch(e){}finally{b(!0)}}),[j]);var G=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,x.ax)({page_el_sn:212492}),l()}),[l]),U=(0,r.useCallback)(xn((function(e){return Pn(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),null==e||e.stopPropagation(),[4,(0,x.ax)(O).catch((function(){}))];case 1:return t.sent(),(0,de.jm)(E,{openTarget:"_blank"}),[2]}}))})),[E]);return S&&T&&E?r.createElement(C.ZP,{payload:O},r.createElement("div",{className:o()(Tn().wrap,Tn().enhanceLayer),onClick:U,style:{opacity:y?1:0}},r.createElement("div",{className:Tn().close,onClick:G},r.createElement(Xe,{className:Tn().closeIcon})),r.createElement("div",{className:Tn().imgWrap},r.createElement(h.ZP,{lazy:s,src:k,className:Tn().img,"aria-hidden":!0,alt:T,processParam:{resizeWidth:42,webpEnable:c}}),!!j&&r.createElement("div",{className:Tn().imgTag,style:{color:M,backgroundColor:D}},r.createElement("span",{className:Tn().tag,ref:w},j))),r.createElement("div",{className:Tn().goodsInfo},r.createElement("div",{className:Tn().goodsName},S),r.createElement("div",{className:Tn().goodsDesc},r.createElement("div",{className:Tn().strategy,style:{color:A}},T),r.createElement(Ve.Z,{className:Tn().arrow,style:{fill:A}}))),r.createElement(f.End,{name:"pc_buiGoodsListShowCategory"}))):null}var An=(0,r.memo)(Wn),Ln=n(48739),On=n.n(Ln);function Rn(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Rn(o,r,a,i,l,"next",e)}function l(e){Rn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function Dn(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function Gn(e){var t,n,a=e.webpEnable,o=e.lazy,i=e.data,l=e.onClose,s=e.commonTrackingInfo,c=e.trackingGoodsInfo,u=e.recommendWordsTrackingInfo,d=e.openRecommendWordsWithNewTab,f=i||{},p=f.title,g=f.recommendWords,v=null!=(t=null==g?void 0:g.length)?t:0,y=ut({column:1,len:Math.floor((v+1)/2)}),b=y.slidesRef,w=y.listStyle,S=y.renderPageTurner,k=Mn({},s||{},c||{},u||{}),T=Mn({page_el_sn:212953},k),E=Mn({page_el_sn:212952,words_type:"related",p_search:null==g?void 0:g[0].pSearch,words:JSON.stringify(null!=(n=null==g?void 0:g.map((function(e){return e.recommend})))?n:[])},k),I=(0,r.useCallback)((function(e){return jn((function(t){var n,r,a,o;return Dn(this,(function(i){switch(i.label){case 0:return null==t||t.preventDefault(),null==t||t.stopPropagation(),r=(n=e||{}).url,a=n.pSearch,o=n.recommend,r?[4,(0,x.ax)(Mn({},E,{p_search:JSON.stringify(a),words:o})).catch((function(){}))]:[2];case 1:return i.sent(),(0,de.jm)((0,m.ru)({srch_enter_source:"10009212952"},(0,Q.YK)(r)),d?{openTarget:"_blank"}:{}),[2]}}))}))}),[]),N=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),(0,x.ax)(T),l()}),[l]),_=null==g?void 0:g.filter((function(e,t){return t%2==0})),P=null==g?void 0:g.filter((function(e,t){return t%2!=0}));return _&&P&&_.length!==P.length&&P.push({}),p&&v?r.createElement(C.ZP,{payload:E},r.createElement("div",{onClick:function(e){null==e||e.preventDefault(),null==e||e.stopPropagation()}},r.createElement("div",{className:On().mask,onClick:N}),r.createElement(dt.Z,{HWRatio:"calc(51.5625% + 34px)",className:On().container,childContainerClassName:On().content},r.createElement(C.ZP,{payload:T},r.createElement("div",{className:On().titleWrap},r.createElement("div",{className:On().title},p),r.createElement("div",{className:On().close,onClick:N},r.createElement(Xe,{className:On().closeIcon})))),r.createElement("div",{className:On().recommendsListWrap},r.createElement("div",{className:On().recommendList},r.createElement("div",{className:On().recommendsWrap,ref:b,style:w},null==_?void 0:_.map((function(e,t){var n=e||{},i=n.imageUrl,l=n.recommend;return i?r.createElement("div",{className:On().itemWrap,key:t,onClick:I(e)},r.createElement("div",{className:On().imgWrap},r.createElement(h.ZP,{wrapperClass:On().img,src:i,alt:l,lazy:o,processParam:{resizeWidth:100,webpEnable:a},"aria-hidden":!0})),r.createElement("div",{className:On().words},l)):null}))),r.createElement("div",{className:On().recommendsWrap,style:w},null==P?void 0:P.map((function(e,t){var n=e||{},i=n.imageUrl,l=n.recommend;return i?r.createElement("div",{className:On().itemWrap,key:t,onClick:I(e)},r.createElement("div",{className:On().imgWrap},r.createElement(h.ZP,{lazy:o,wrapperClass:On().img,src:i,alt:l,processParam:{resizeWidth:100,webpEnable:a},"aria-hidden":!0})),r.createElement("div",{className:On().words},l)):null})))),S())))):null}var Un=(0,r.memo)(Gn),Zn=n(64964),zn=n.n(Zn);function Bn(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Fn(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Bn(o,r,a,i,l,"next",e)}function l(e){Bn(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(){return qn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qn.apply(this,arguments)}function Yn(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}function Vn(e){var t,n,a,i=e.pageSn,l=e.webpEnable,s=e.data,c=e.onClose,u=e.goodsId,d=e.cartScene,p=e.isWindows,g=e.onMouseEnter,v=e.onMouseLeave,y=(e.grayConfig,s||{}),b=y.title,w=y.goodsList,S=(null==w?void 0:w[0])||{},k=S.title,T=S.thumbUrl,E=S.image,I=S.priceInfo,N=S.seoLinkUrl,_=S.linkUrl,P=S.cartAmount,W=S.pRec,A=S.goodsId,L=S.salesTipText,O=S.salesTipTextList,R=S.uniqueId,j=S.gcId,M=S.gcGoodsList,D=S.extendFieldsForSku,G=S.extendFields.skuExtraParam,U=void 0===G?{}:G,Z=(0,Ge.Z)({salesTipText:L,salesTipTextList:O}).salesTipValue,z=I?(0,qe.Ig)(I,"",i,u):{},B=z.showPriceStr,F=z.showMarketPriceStr,H=z.reductionTextStr,q=z.unitPrefix,Y=z.unitSuffix,V=z.priceColor,K=(0,r.useRef)(null),J={page_el_sn:218786,main_goods_id:u,goods_id:A,source_goods_id:u,rec_goods_id:A,idx:0,show_currency:null==I?void 0:I.currency,show_price:(null==I?void 0:I.price)||((null==I||null==(t=I.priceText)?void 0:t.length)>1?100*+I.priceText[1]:""),show_sales:Z&&Z.length>0?Z[0]:"",p_rec:JSON.stringify(W),unique_id:R,gc_id:j,gc_goods_list:null!=(a=null==M||null==(n=M.join)?void 0:n.call(M,","))?a:null},X={page_el_sn:200061,cart_scene:d,goods_btn_idx:0,main_goods_id:u,goods_id:u,source_goods_id:u,rec_goods_id:A,p_rec:JSON.stringify(W)},$=(0,Ue.Z)({cartAmount:P||0,autoAddSingleSku:!1,tracking:{source:"releatedGoodsToCart"},imprEventData:X,clickEventData:X,pageSn:i,params:qn({},(0,f.D1)(D||{}),{goods_id:A,gc_id:j,gc_goods_list:M},(0,f.D1)(U||{})),cartScene:d}),ee=$.cartAmount,te=$.onClick,ne=(0,r.useCallback)(Fn((function(e){return Yn(this,(function(t){switch(t.label){case 0:return null==e||e.preventDefault(),null==e||e.stopPropagation(),[4,(0,x.ax)(J).catch((function(){}))];case 1:return t.sent(),(0,de.jm)((0,m.ru)({refer_page_el_sn:218786},(0,Q.YK)(N||_)),{openTarget:"_blank"}),[2]}}))})),[]),re=(0,r.useCallback)((function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),c&&c()}),[]);if(!k)return null;var ae=qn({alignItems:Y?"baseline":"center"},V?{color:V}:{}),oe=String(B||"").length+String(q||"").length+String(Y||"").length;return r.createElement(C.ZP,{payload:J},r.createElement("div",null,r.createElement("div",{className:zn().mask,onClick:re}),r.createElement(dt.Z,{HWRatio:"calc(42.1875% + 34px)",className:zn().container,childContainerClassName:zn().content,onClick:ne},r.createElement("div",{className:zn().titleWrap},r.createElement("div",{className:zn().title},b),r.createElement("div",{className:zn().close,onClick:re},r.createElement(Xe,{className:zn().closeIcon}))),r.createElement("div",{className:zn().releatedWrap},r.createElement(dt.Z,{HWRatio:.4152542372881356,className:zn().imgWrap},r.createElement(h.ZP,{lazy:!1,src:(null==E?void 0:E.url)||T,className:zn().img,"aria-hidden":!0,alt:k,processParam:{resizeWidth:192,webpEnable:l}})),r.createElement("div",{className:zn().goodsDetail,ref:K},r.createElement("div",{className:zn().goodsName},k),r.createElement("div",{className:zn().marketPriceWrap},r.createElement("div",{className:zn().marketPrice},F),r.createElement(wt.V,null,H)),r.createElement("div",{className:zn().priceWrap,"data-ignore":!0},r.createElement("div",{"data-type":"goodsPrice",className:o()(zn().goodsPrice,Hn({},zn().isWindows,p),Hn({},zn().goodsPriceLong,oe>=8)),style:ae},!!q&&r.createElement("span",{className:zn().pricePrefix},q),r.createElement("span",{className:zn().price},B),!!Y&&r.createElement("span",{className:zn().priceSuffix},Y)),r.createElement(jt.Z,{"data-ignore":!0,cartAmount:ee,addCart:te,onMouseEnter:g,onMouseLeave:v})))))))}var Kn=(0,r.memo)(Vn),Jn=n(15900),Qn=n.n(Jn);function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $n(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var er,tr=(0,r.memo)((0,g.Pf)((0,r.forwardRef)((function(e,t){var n=e.data,a=e.className,i=null==n?void 0:n.filter((function(e){return e.color&&e.text}));return(null==i?void 0:i.length)?r.createElement("div",{className:o()(Qn().qualityAttrTags,a),ref:t},i.map((function(e){var t=e.text,n=e.color;return r.createElement("span",{style:{color:n},className:Qn().item},t)}))):null})))),nr=function(e){try{if(!(null==e?void 0:e.current))return;var t=$n(null==e?void 0:e.current.childNodes),n=[];return t.forEach((function(e){(null==e?void 0:e.offsetTop)<1&&n.push(e.innerText)})),n.join(",")}catch(e){}},rr=n(33483),ar=n(8559),or=n.n(ar);function ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ir(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.normal=1]="normal",e[e.special=2]="special"}(er||(er={}));var sr=(0,g.Pf)((function(e){var t=e.data,n=e.goodsId,a=(null==t?void 0:t[0])||{},i=a.endTime,l=a.text,c=a.tagType,u=a.color,d=void 0===u?"#0A8800":u,f=a.tagId,m=a.header,p=a.footer,g=a.extMap,v=a.backColor,y=a.url,b=j.xI.Discount===f,w=g||{},S=w.tagEndStr,k=w.tagEndStrColor,T=w.tagStyle,E=S&&2==+(void 0===T?1:T),I=(0,s.FG)().nowTime,x=(0,r.useRef)(!0),C=(0,r.useRef)(),N=0,_=lr((0,r.useState)(),2),W=_[0],A=_[1],L=c===j.Gm.singleGoodsCoupon;I&&i&&(N=N<0?N:i-I);var O=(0,P.lO)().supportWebp;(0,r.useEffect)((function(){"number"==typeof i&&N<=0&&!x.current&&!b&&(document.dispatchEvent(new CustomEvent(ce,{detail:{goodsId:n}})),x.current=!0)}),[i,n,b,N]);var R=!l&&!(null==m?void 0:m.text);if((0,r.useEffect)((function(){x.current=!1}),[]),(0,r.useEffect)((function(){if(!R&&C.current){var e=C.current.clientWidth/C.current.scrollWidth,t=Math.max(11,13*e);A({fontSize:t+"px"})}}),[R]),R)return null;if(L)return r.createElement("div",{className:o()(or().discountPriceTag,or().singleGoodsCoupon,or().newStyle)},r.createElement("div",{className:o()(or().textWrap,v&&or().withBg),style:{color:d,border:d&&!v?"1px solid "+d:"",background:v}},!!y&&r.createElement(h.ZP,{src:y,className:or().icon,processParam:{webpEnable:O},"aria-hidden":!0,alt:""}),r.createElement("span",{className:or().singleGoodsCoupontext},l)));var M,D,G,U=i?r.createElement(rr.Z,{endTime:i,className:or().countDown}):b&&(null==p?void 0:p.text)&&r.createElement("span",{className:or().footerText},null==p?void 0:p.text);return r.createElement("div",{className:o()(or().discountPriceTag,or().newStyle),style:{opacity:W?"1":"0"}},r.createElement("div",{className:o()(or().tagContent,(M={},D=or().discountContent,G=b,D in M?Object.defineProperty(M,D,{value:G,enumerable:!0,configurable:!0,writable:!0}):M[D]=G,M))},r.createElement("div",{className:or().text,style:W,ref:C},b?null==m?void 0:m.text:l),E?r.createElement("span",{className:o()(or().footerText,or().discount),style:{color:k}},S):U))})),cr=n(65522),ur=n(90158),dr=n.n(ur);var fr=function(e){var t,n,a,i=e.processTrackingInfo,l=e.className,s=e.ratio,c=e.salesPercentStr,u=e.fill,d=void 0===u?"#fb7707":u,f=e.withCart,m={width:s+"%"};return r.createElement(C.ZP,{payload:{page_el_sn:null==i?void 0:i.pageElSn}},r.createElement("div",{className:o()(dr().wrap,l)},r.createElement("div",{className:o()(dr().processWrap,(t={},n=dr().withCart,a=f,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))},r.createElement("div",{className:dr().process,style:m})),r.createElement("div",{className:dr().textLine},s>=65&&r.createElement(cr.i0,{path:"M432.1 0c149.7 87.7 250.7 246.3 254.3 428.1 30.2-30.1 52.4-68 63-110.3l0.8-3.2c88.8 68.6 145.8 174.8 145.8 293.9 0 6.8-0.2 13.6-0.6 20.4 0.4 6.8 0.6 13.6 0.6 20.5 0 206.9-171.9 374.6-384 374.6-212.1 0-384-167.7-384-374.6 0-103.1 42.7-196.4 111.7-264.2 91.9-104.6 158.1-231.2 189.3-370.5l3.1-14.7z",style:{fill:d},className:dr().fireIcon}),!!c&&r.createElement("div",{className:dr().txt},c))))},mr=n(7767),pr=n(15830),gr=n.n(pr),vr=function(e){var t=e.firstInstallmentTag,n=e.className,a=e.lazy,i=(null==t?void 0:t[0])||{},l=i.text,s=i.color,c=i.urls,u=(0,P.lO)().supportWebp;return l&&(null==c?void 0:c.length)?r.createElement("div",{className:o()(gr().payTagWrap,n)},r.createElement("div",{className:gr().text,style:{color:s}},l),r.createElement("div",{className:gr().imgWrap},c.map((function(e){return e?r.createElement(h.ZP,{lazy:a,src:e,className:gr().img,"aria-hidden":!0,processParam:{webpEnable:u,resizeWidth:70},alt:""}):null})))):null},hr=n(44259),yr=n(69459),br=n(10644);function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var kr=n(35687),Tr=n.n(kr),Er=(0,r.memo)((function(e){var t=e.data,n=e.lazy,a=t||{},i=a.url,l=a.suffixUrls,s=void 0===l?[]:l,c=a.color,u=a.text,d=a.prefixUrls,f=(0,P.lO)().supportWebp,m=(null==d?void 0:d.length)||[i];return r.createElement("div",{className:Tr().item},!!(null==m?void 0:m[0])&&r.createElement(h.ZP,{src:m[0],className:Tr().icon,lazy:n,processParam:{webpEnable:f},"aria-hidden":!0,alt:""}),r.createElement("span",{style:{color:c},className:Tr().text},u),!!(null==s?void 0:s[0])&&r.createElement(h.ZP,{src:s[0],className:o()(Tr().icon,Tr().suffixLogo),lazy:n,processParam:{webpEnable:f},"aria-hidden":!0,alt:""}))})),Ir=(0,r.memo)((function(e){var t=e.tags,n=e.goodsId,a=e.className,i=e.lazy,l=null==t?void 0:t.filter((function(e){return null==e?void 0:e.text})),s="mallTags-"+n,c=(null==l?void 0:l.length)>1,u=function(e){var t=e.num,n=e.containerClassName,a=e.goodsId,o=e.perHeight,i=Sr((0,r.useState)(""),2),l=i[0],s=i[1];return(0,r.useEffect)((function(){t<2||function(){for(var e=3*t,r=100/t,i=2.7/e*100,l="loop-"+a,c="@keyframes "+l+" {\n",u=0;u<t;)c=c+(u*r+"% { transform: translateY(-")+u*o+"px); }\n"+(u*r+i)+"% { transform: translateY(-"+u*o+"px);}\n",u++;s("."+n+" {\n            animation: "+l+" "+e+"s ease-out infinite;\n            }"+(c+="100% { transform: translateY(-"+t*o+"px); }"))}()}),[n,a,t,o]),l}({num:null==l?void 0:l.length,containerClassName:s,goodsId:n,perHeight:20});return(null==l?void 0:l.length)?r.createElement("div",{className:o()(Tr().mallTagsWrap,a)},!!u&&r.createElement("style",null,u),r.createElement("div",{className:s},null==l?void 0:l.map((function(e){return r.createElement(Er,{data:e})})),!!c&&r.createElement(Er,{data:l[0],lazy:i}))):null})),xr=(n(68164),n(23075)),Cr=n(8524),Nr=n(96236),_r=n(24465),Pr=n.n(_r);function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lr(){return Lr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lr.apply(this,arguments)}function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Rr=function(e){var t,n=e.className,a=e.commonTrackingInfo,i=e.trackingGoodsInfo,l=e.skcTrackingInfo,s=e.setSkcIndex,c=e.currentSkcIndex,u=e.skcList,d=e.setSkcLoading,f=e.webpEnable,m=e.imageProcessParam,p=e.alt,g=(0,P.lO)().isRTL,v=null!=(t=null==u?void 0:u.length)?t:0,h=v>8?null==u?void 0:u.slice(7):[],y=Or((0,r.useState)(!1),2),b=y[0],w=y[1],S=(0,r.useRef)(null),k=(0,r.useRef)(0),T=(0,r.useRef)({0:!0}),E=(0,r.useCallback)((function(e){var t;T.current[e]=!0;var n=new Image,r=null==u||null==(t=u[e])?void 0:t.galleryUrl;r&&(n.src=(0,xr.FT)(r,m))}),[u]),I=(0,r.useCallback)((function(e){var t;null==d||d(!0),T.current[e]=!0;var n,r=new Image,a=null!=(n=null==u||null==(t=u[e])?void 0:t.galleryUrl)?n:"";if(a){r.src=(0,xr.FT)(a,m);var o=function(){s(e),null==d||d(!1),k.current&&clearTimeout(k.current),0!==e&&E(e-1),e!==v-1&&E(e+1)};r.onload=o,r.onerror=o}}),[u,v]),C=(0,r.useCallback)((function(e){var t=+e.currentTarget.dataset.index||0;t>0&&T.current[t]?s(t):k.current=window.setTimeout((function(){I(t)}),0),(0,x.wI)(Lr({},a,i,l||{},{page_el_sn:215487}))}),[]),N=(0,r.useCallback)((function(){k.current&&clearTimeout(k.current)}),[]);(0,r.useEffect)((function(){return function(){k.current&&clearTimeout(k.current)}}),[]);var _,W=function(){if(!(null==h?void 0:h.length))return null;var e={},t={};if(S.current){var n=getComputedStyle(S.current.children[0])||{},a=parseFloat(n.width),i=parseFloat(g?n.marginLeft:n.marginRight),l=Math.min(h.length,7);e={width:a*l+i*(l-1)+"px"},t={width:a+"px",height:a+"px"},g?t.marginLeft=i+"px":t.marginRight=i+"px"}return r.createElement("div",{className:o()(Pr().skcListWrapper,Pr().bubbleWrap),style:e},h.map((function(e,n){var a=e.galleryUrl,i=e.colorImage,l=n+8-1;return r.createElement("div",{className:o()(Pr().skcItemWrapper,Ar({},Pr().active,l===c)),onMouseEnter:C,onMouseLeave:N,"data-index":l,key:l,style:t},i&&a?r.createElement(Cr.I,{src:(0,xr.FT)(i,{resizeWidth:18,webpEnable:f,quality:70}),className:Pr().skcImg,"aria-hidden":!0,alt:p}):null)})))};return(null==u?void 0:u.length)?r.createElement("div",{className:o()(Pr().skcWrapper,n,(_={},Ar(_,Pr().skcWrapper8,8===v),Ar(_,Pr().skcWrapperLess8,v<8),_))},r.createElement("div",{className:Pr().skcListWrapper,ref:S},u.slice(0,v>8?7:8).map((function(e,t){var n=e.galleryUrl,a=e.colorImage;return r.createElement("div",{className:o()(Pr().skcItemWrapper,Ar({},Pr().active,t===c)),onMouseEnter:C,onMouseLeave:N,"data-index":t,key:t},a&&n?r.createElement(Cr.I,{src:(0,xr.FT)(a,{resizeWidth:18,webpEnable:f,quality:70}),className:Pr().skcImg,"aria-hidden":!0,alt:p}):null)}))),v>8&&r.createElement("div",{className:Pr().skcNumWrap},r.createElement("div",{className:Pr().skuNumMain},r.createElement(Nr.Z,{showArrow:!1,overlay:r.createElement(W,null),placement:"bottom",onVisibleChange:function(e){e&&!b&&w(!0),!e&&b&&w(!1)}},r.createElement("div",{className:Pr().skcNum},v-8+1,r.createElement("div",{className:Pr().bubbleArrowWrap,style:{visibility:b?"visible":"hidden",left:v-8+1>=10?"1px":"-3px"}},r.createElement(cr.eb,{className:Pr().bubbleArrow,viewBox:"0 0 22 8"}))))),r.createElement("div",{className:Pr().skuNumBlank}))):null},jr=(0,r.memo)(Rr),Mr=n(2793),Dr=n(68432),Gr=n(9005),Ur=n.n(Gr);function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Br(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Fr,Hr=function(e){var t,n,a,i,l,c,u,d=e||{},f=d.header,m=d.footer,p=d.serverTime,g=d.rowNum,v=d.style,h=d.onEnd,y=d.contentClassName,b=(d.grayConfig,null!=(n=null!=(t=null==f?void 0:f.text)?t:null==e?void 0:e.activityName)?n:""),w=null!=(l=null!=(i=null!=(a=null==m?void 0:m.endTime)?a:null==e?void 0:e.endTime)?i:null==e?void 0:e.marketPriceEndTime)?l:"",S=null!=(u=null!=(c=null==m?void 0:m.text)?c:null==e?void 0:e.endsName)?u:"",k=p||Date.now(),T=w&&(0,qe.mr)(w),E=(0,r.useRef)(T&&T+2e3>k),I=(0,s.FG)().nowTime,x=0;I&&E.current&&(x=T-I);var C=x>0,N=!(b||S||T)||T&&!C;(0,r.useEffect)((function(){N&&(null==h||h())}),[N]);var _=Br((0,r.useState)({}),2),P=_[0],W=_[1],A=(0,r.useRef)(),L=(0,r.useRef)();if((0,r.useEffect)((function(){if(A.current&&L.current){var e=A.current.offsetWidth;W({maxWidth:"calc(100% - "+e/2+"px)"})}}),[]),N)return null;var O,R=S?r.createElement("span",{className:Ur().text},S):null,j=b&&(T&&C||R),M=T&&C;return r.createElement("div",{className:o()(Ur().wrap,zr({},Ur().newStyle,!0)),style:v},r.createElement("div",{className:o()(Ur().wrapContent,(O={},zr(O,Ur().onlyShowName,!T||!C),zr(O,Ur().sixCard,6===g),O)),style:v},r.createElement("div",{className:o()(Ur().content,y,zr({},Ur().noLine,!j||M)),ref:A},b),j&&!M?r.createElement("div",{className:Ur().line,style:{background:null==v?void 0:v.color}}):null,T&&C?r.createElement("div",{className:Ur().countDown},r.createElement(rr.Z,{endTime:T}),R):r.createElement("div",{className:Ur().textWrap,style:P,ref:L},R)))},qr=(0,r.memo)(Hr);n(27635);!function(e){e[e.center=1]="center"}(Fr||(Fr={}));var Yr=n(86083),Vr=n.n(Yr);function Kr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(){return Qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qr.apply(this,arguments)}function Xr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Kr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $r=function(e){var t,n,a=e.header,i=e.url,l=e.footer,c=e.iconImg,u=e.className,d=e.lazy,f=void 0!==d&&d,m=e.ph,p=e.textCentered,g=e.promotionStyle,v=e.textYPercent,y=e.classConfig,b=e.serverTime,w=e.rowNum,S=(0,P.lO)().isRTL,k=(0,r.useRef)(null),T=(0,r.useRef)(null),E=(0,r.useRef)(!1),I=a||{},x=I.text,C=I.color,N=l||{},_=N.endTime,W=N.text,A=N.color,L=(null==a?void 0:a.dx)||(null==l?void 0:l.dx)||0,O=p===Fr.center,R=1===g,j=2===g,M=x&&W&&!R&&!j,D={color:A},G=(0,qe.mr)(_||e.endTime||""),U=b||Date.now(),Z=(0,r.useRef)(G&&G+2e3>U),z=(0,s.FG)().nowTime,B=0;z&&Z.current&&(B=G-z);var F=B>0,H=!(F&&G),q={color:C,marginTop:M?"1.6%":"0px",opacity:H?0:1,whiteSpace:"nowrap"},Y=Xr((0,r.useState)(q),2),V=Y[0],K=Y[1],J=(0,r.useCallback)((function(){if(!k.current||!T.current||!H)return K((function(e){return Qr({},e,{opacity:1})}));var e=.8*T.current.offsetHeight;return(k.current.scrollWidth>k.current.clientWidth||E.current)&&(E.current=!0,K((function(t){return Qr({},t,{opacity:1,fontSize:e,whiteSpace:"initial",lineHeight:e+4+"px",marginTop:"-2px"})}))),K((function(e){return Qr({},e,{opacity:1})}))}),[H]);if((0,r.useEffect)((function(){return J(),window.addEventListener("resize",J),function(){window.removeEventListener("resize",J)}}),[H,J]),!i||G&&!F)return null;var Q=!x&&W&&!R&&!j&&F&&G&&((null==W||null==(n=W.trim)||null==(t=n.call(W))?void 0:t.length)>10||G-U>qe.dJ+2e3),X=m?{paddingBottom:100*m+"%"}:{},$={width:O?"200%":2*(1-L)*100+"%"};S?$.right=O?"0px":100*L+"%":$.left=O?"0px":100*L+"%",m&&v&&($.paddingTop=m*v*2*100+"%");var ee,te,ne,re=F&&G&&j&&c;return r.createElement("div",{className:o()(Vr().container,u,null==y?void 0:y.container,(ne={},Jr(ne,Vr().double,M),Jr(ne,Vr().isCenter,O),Jr(ne,Vr().promotionStyle1,1===g),Jr(ne,Vr().showFlashSeparator,re),Jr(ne,Vr().isCountDownDays,Q),Jr(ne,Vr().isMore,(null!=(ee=null==x?void 0:x.length)?ee:0)>22||(null!=(te=null==W?void 0:W.length)?te:0)>14&&F&&G),Jr(ne,Vr().sixCard,6===w),ne)),style:X,tabIndex:-1,ref:T},i?r.createElement(h.ZP,{src:i,lazy:f,className:o()(Vr().image,null==y?void 0:y.image),"aria-hidden":!0,alt:""+(x||""),processParam:{resizeWidth:512,quality:100}}):null,r.createElement("div",{className:o()(Vr().content,null==y?void 0:y.content),style:$},x?r.createElement("div",{className:o()(Vr().header,null==y?void 0:y.header,Jr({},Vr().singleLine,!(F&&G))),style:V,role:"link",ref:k},x):null,F&&G?r.createElement("div",{className:o()(Vr().footer,null==y?void 0:y.footer,Jr({},Vr().singleLine,!x&&W&&F&&G)),style:D},re?r.createElement(h.ZP,{alt:x,lazy:f,src:c,className:Vr().flashClockImg,processParam:{resizeWidth:33,quality:100},"aria-hidden":!0}):null,r.createElement("span",{className:o()(Vr().footerText,null==y?void 0:y.footerText),role:"link"},W),r.createElement(rr.Z,{endTime:G,className:o()(Vr().countDown,null==y?void 0:y.countDown),style:{color:A},role:"link"})):null))},ea=(0,r.memo)($r),ta=n(23653),na=n(31992),ra=n.n(na);function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ia(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){oa(o,r,a,i,l,"next",e)}function l(e){oa(o,r,a,i,l,"throw",e)}i(void 0)}))}}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sa(){return sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sa.apply(this,arguments)}function ca(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var da={1:ra().GrayGoodsName,2:ra().GraySmallGoodsName,3:ra().GraySmallThinGoodsName},fa=function(){},ma=(0,r.memo)((function(e){var t=e.tooltipProps,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["tooltipProps"]);return t?r.createElement(Ye.IH,t,r.createElement(bt,n)):r.createElement(bt,n)})),pa="undefined"!=typeof document&&"ontouchstart"in document,ga=(0,r.memo)((function(e){var t,n,a,s,y,b,w,S,k,T,E,M,D,G,U,Z,z,B,F,H,q,Y,V,J,X,$=e.index,ee=e.pageSn,te=e.pageElSn,ne=e.cartScene,re=e.goodsInfo,ae=e.classNameWrap,oe=e.canAddToCart,ie=e.cartAmount,le=e.isMainGoods,ce=e.CustomGoodsBtn,pe=e.forwardGoodsParams,ge=e.beforeClickCart,Se=e.onGoodsClick,ke=e.onQuickLookClick,Ee=e.onAddCartClick,Ie=e.onSkuPanelClose,xe=e.onSkuPanelSuccess,Ce=e.openGoodsWithNewTab,Ne=void 0===Ce||Ce,_e=e.openRecommendWordsWithNewTab,Pe=void 0===_e||_e,We=e.quickLook,Ae=e.useCartBtn,Oe=e.webpEnable,je=e.isShowSkc,Me=e.isShowProcess,Ze=void 0!==Me&&Me,ze=e.processTrackingInfo,Fe=e.cardTrackingInfo,Ve=e.showDiscountOnName,Ke=void 0!==Ve&&Ve,Je=e.grayConfig,Qe=e.startLazyIndex,Xe=e.imageRootMargin,$e=void 0===Xe?500:Xe,et=e.isOpenSaleInfoScale,tt=e.isShowHoverImage,nt=void 0===tt||tt,rt=e.skuParams,at=e.skuOptions,ot=e.goodsNameTag,it=e.hoverTheme,lt=void 0===it?Dr.P.DEFAULT:it,st=e.isShowComment,ct=e.isShowBillboardTip,ut=e.billboardTipProps,ft=e.autoShowSimilarCount,mt=void 0===ft?0:ft,pt=e.autoShowCategoryCardCount,gt=void 0===pt?0:pt,vt=e.autoShowRecommendWordsCount,ht=void 0===vt?0:vt,yt=e.autoShowReleatedGoodsCount,bt=void 0===yt?0:yt,wt=e.showMarketInfo,St=e.commonGoodsTrackingInfo,kt=e.skcTrackingInfo,Tt=e.recommendWordsTrackingInfo,Et=e.classConfig,It=e.setDatasource,xt=e.showSavePrice,Nt=e.renderTopTips,_t=e.renderBottomTips,Pt=e.renderTags,At=e.renderTagsBeforePrice,Mt=e.userAgent,Dt=e.goodsConfig,Gt=e.serverTime,Ut=e.rowNum,Zt=void 0===Ut?5:Ut,zt=e.renderCustomizeTags,Bt=e.listId,Ft=e.addAutoShowSkuQuery,Ht=void 0!==Ft&&Ft,qt=e.emageProgress,Yt=void 0===qt||qt,Vt=e.privateListId,Kt=e.ignoreGoodsSaleInlineScriptEffect,Jt=e.refreshInfo,Qt=re.title,Xt=re.thumbUrl,$t=re.salesTipText,tn=re.salesTipTextList,nn=re.salesTip,an=re.priceInfo,on=re.linkUrl,ln=re.seoLinkUrl,sn=re.pageAlt,cn=re.image,un=re.hoverImage,fn=re.goodsId,pn=void 0===fn?"":fn,gn=re.pRec,vn=re.pSearch,hn=re.mRec,kn=re.mTrc,Tn=re.ad,En=re.quickLook,In=re.goodsTags,xn=re.specialTags,Cn=void 0===xn?[]:xn,Nn=re.specIds,_n=re.comment,Pn=re.commentNumTips,Wn=re.goodsScore,Ln=re.tagsInfo,On=re.promotionTagList,Rn=re.video,jn=re.skcList,Mn=re.noSalesTipText,Dn=re.optType,Gn=re.optId,Zn=re.ext,zn=re.uniqueId,Bn=re.gcId,Fn=re.gcGoodsList,Hn=re.extendFieldsForSku,qn=re.extendFields,Yn=void 0===qn?{}:qn,Vn=Yn.supportTagCarousel,Jn=void 0!==Vn&&Vn,Qn=Yn.titleRow,Xn=void 0===Qn?1:Qn,$n=Yn.showScoreNum,er=void 0!==$n&&$n,rr=Yn.saleFireFlag,ar=void 0!==rr&&rr,or=Yn.skuExtraParam,ir=void 0===or?{}:or,lr=Yn.engIcon,cr=void 0===lr?{}:lr,ur=Yn.onlyOneSku,dr=Yn.mainViewType,pr=Yn.mainJumpUrl,gr=Yn.frontParam,wr=re.cardTrackingInfo,Sr=re.HWRatio,kr=void 0===Sr?1:Sr,Tr=re.activityType,Er=re.wareHouseType,xr=re.afterPriceShowPriority,Cr=re.afterStarShowPriority,Nr=re.afterPriceTipText,_r=re.salesTipWithTime,Pr=re.currentSkuId,Wr=re.adultGoods,Ar=re.allLocationDataDictMap,Lr=(gr||{}).itemListExp,Or=sa({_oak_page_source:115},rt),Rr=(0,P.lO)().localInfo,Gr=(0,c.IV)(null==Rr?void 0:Rr.region)===u.DR.eu,Ur=+((null==Rr?void 0:Rr.region)||0)===u.k6.sa,Zr=(0,N.X2)(),zr=(0,v.$)("bec-fe.bui-web-goods-list"),Br=zr.t,Fr=zr.i18n,Hr=(0,r.useRef)(null),Yr=(0,r.useRef)(null),Vr=sa({open:!0},En||{},We||{}),Kr=(Dt||{}).cancelRobotLimit,Jr=sa({webpEnable:Oe},h.DJ.GOODS_MIDDLE||{}),Qr=Rn||{},Xr=Qr.videoUrl,$r=Qr.iconUrl,na=Qr.imageUrl,aa=(0,Ge.Z)({salesTipText:$t,salesTipTextList:tn}),oa=aa.salesTipValue,ga=aa.useNewSalesTip,va=oa,ha=Zn||{},ya=ha.goodsActivitySalesRatioParam,ba=ha.activitySalesRatioContent,wa=Ze&&!!ya&&ya>=0&&ya<=100,Sa=Ln||{},ka=Sa.brandTags,Ta=Sa.promotionTags,Ea=Sa.billboardTags,Ia=Sa.topSpecTags,xa=Sa.goodsAttributesTags,Ca=void 0===xa?[]:xa,Na=Sa.titleHeaderTags,_a=void 0===Na?[]:Na,Pa=Sa.todayTags,Wa=Sa.activityIconTags,Aa=void 0===Wa?[]:Wa,La=Sa.firstInstallmentTag,Oa=void 0===La?[]:La,Ra=Sa.specialOfferTag,ja=void 0===Ra?[]:Ra,Ma=Sa.couponTag,Da=void 0===Ma?[]:Ma,Ga=Sa.mallTag,Ua=Sa.progressTags,Za=void 0===Ua?[]:Ua,za=Sa.qualityAttributeTag,Ba=void 0===za?[]:za,Fa=null==(n=(null==Ln?void 0:Ln.goodsTags)||In)||null==(t=n.map)?void 0:t.call(n,(function(e,t){return sa({},e||{},{i:t})})),Ha=(null==On||null==(a=On[0])?void 0:a.promotionTag)?On[0]:null,qa=(null==Ta?void 0:Ta.length)?Ta[0]:null,Ya=ca((0,r.useState)(!1),2),Va=Ya[0],Ka=Ya[1],Ja=((null==Je?void 0:Je.cp66199)||{}).notSupportRegionList,Qa=void 0===Ja?[76]:Ja,Xa=!(null==Qa||null==(s=Qa.includes)?void 0:s.call(Qa,+(null==Rr?void 0:Rr.region))),$a=(0,r.useRef)(null),eo=null==Pa||null==(y=Pa[0])?void 0:y.text,to=!!(null==eo?void 0:eo.length)&&eo,no=!!Mt&&(0,W.Y7)(Mt),ro=!!Mt&&!/macintosh|mac os x/i.test(Mt),ao=(0,r.useContext)(He.Z).disableLazy,oo=(0,r.useRef)(0),io=null==Aa?void 0:Aa[0],lo=Er===j.I3.LocalWareHouse,so=null==Je||null==(b=Je.cp101193)?void 0:b.value,co=Gr?null==Je||null==(S=Je.cp119103)?void 0:S.value:null==Je||null==(w=Je.cp105026)?void 0:w.value,uo=(null==Je||null==(k=Je.cp126457)?void 0:k.value)&&kr>1?Ct:ma,fo=(0,r.useMemo)((function(){return Qe&&($||0===$)?$>Qe:!ao}),[ao,Qe,$]),mo=ca((0,r.useState)(!1),2),po=mo[0],go=mo[1],vo=(0,r.useCallback)((function(){pa||go(!0)}),[]),ho=(0,r.useCallback)((function(){pa||go(!1)}),[]),yo=ca((0,r.useState)(an),2),bo=yo[0],wo=yo[1],So=je?(jn||[]).filter((function(e){return e.colorImage})):[],ko=So.length>1,To=ca((0,r.useState)(0),2),Eo=To[0],Io=To[1],xo=(0,r.useMemo)((function(){if(ko)return jn[Eo]}),[ko,jn,Eo]),Co=ca((0,r.useState)({}),2),No=Co[0],_o=Co[1],Po=(null==No?void 0:No.specialOfferTag)||ja,Wo=(null==Po||null==(T=Po[0])?void 0:T.text)?1:void 0,Ao=(0,r.useMemo)((function(){var e,t,n;return sa({p_rec:gn,p_search:vn,m_rec:hn,m_trc:kn,ad:Tn,idx:$,g_idx:$,goods_display_id:(0,i.x)(),show_currency:null==an?void 0:an.currency,show_price:(null==an?void 0:an.price)||((null==an||null==(e=an.priceText)?void 0:e.length)>1?100*+an.priceText[1]:""),show_sales:va&&va.length>0?va[0]:"",show_skc:ko?1:0,unique_id:zn,gc_id:Bn,limit_disc_prc:Wo,gc_goods_list:null!=(n=null==Fn||null==(t=Fn.join)?void 0:t.call(Fn,","))?n:null,is_sold_date:_r?1:0},Fe,wr,St)}),[]),Lo=dn({tags:Ca,grayConfig:Je,localInfo:Rr}),Oo=Lo.needCarousel,Ro=Lo.textList,jo=(null==Ro?void 0:Ro.length)?{is_roll:Oo?1:0,date_text:(null==Ro?void 0:Ro.length)?(0,qe.or)(Ro):""}:{},Mo=(0,r.useMemo)((function(){return sa(le?{goods_id:pn}:{rec_goods_id:pn},jo)}),[pn,le]),Do=sa({},Mo,Ao,{goods_btn_idx:Ao.idx,idx:void 0}),Go=sa({page_el_sn:200061,cart_scene:ne,goods_id:pn},Do),Uo=j.d6.includes(Lr),Zo=oe&&!ce&&!Ae&&!Uo,zo=ca((0,r.useState)(!1),2),Bo=zo[0],Fo=zo[1],Ho=(0,fe.Z)({goodsId:pn,pageSn:ee,scene:fe.x.SIMILAR,showNewSimilarDialog:co,imgSearchUrl:Xt}),qo=function(e){var t=e.goodsId,n=e.scene,a=(0,r.useRef)(we),o=ye((0,r.useState)(we),2),i=o[0],l=o[1],s=ve((function(e){var r,a,o,i;return be(this,(function(l){switch(l.label){case 0:return a=n||e.scene,[4,(0,me.$h)(me.ce.SEARCH_HOT_QUERY,{mainGoodsIds:[t],scene:a})];case 1:return o=l.sent(),[2,null!=(i=null==o||null==(r=o.result)?void 0:r.data)?i:{}]}}))}));return he({},i||{},{loadData:ve((function(e){var t,n;return be(this,(function(r){switch(r.label){case 0:return(null==(t=a.current)?void 0:t.title)?[2]:[4,s(e)];case 1:return n=r.sent(),a.current=n,l(n),[2]}}))})),clear:function(){var e;return!!(null==(e=a.current)?void 0:e.title)&&(a.current=we,l(we),!0)}})}({goodsId:pn,pageSn:ee,scene:fe.x.RECOMMEND_WORDS_SKU_CLOSE}),Yo=Le({goodsId:pn,pageSn:ee,optType:Dn,optId:Gn,scene:fe.x.ADD_CART_SUCCESS_RELEATED}),Vo=(null==(E=Ho.goodsList)?void 0:E.length)>0,Ko=(null==(M=qo.recommendWords)?void 0:M.length)>0,Jo=(null==(D=Yo.goodsList)?void 0:D.length)>0,Qo=(0,r.useCallback)((function(){null==It||It((function(t){return Be(t,{goods_id:pn,unique_id:zn},e,{onSkuPanelClear:!0})}))}),[]),Xo=function(e){var t=e.hasSimilarGoods,n=e.open,a=e.autoCloseCb,o=Re((0,r.useState)(!1),2),i=o[0],l=o[1],s=(0,r.useRef)();return(0,r.useEffect)((function(){return n?(l(t),t&&(s.current=setTimeout((function(){l(!1),null==a||a()}),5e3)),function(){s.current&&clearTimeout(s.current)}):function(){}}),[a,t,n]),{showSimilarEntry:i}}({hasSimilarGoods:Vo,open:so,autoCloseCb:Qo}).showSimilarEntry,$o=(0,r.useMemo)((function(){var e=(null==cn?void 0:cn.url)||Xt,t=(0,qe.Ig)(bo,"",ee,pn,Bt),n=et&&(0,qe.Vq)(null==t?void 0:t.currency,null==Fr?void 0:Fr.resolvedLanguage);if(!ko)return{showGoodsImg:e,showPriceInfo:t,showLinkUrl:on,showSeoLinkUrl:ln,showHoverImage:null==un?void 0:un.url,saleInfoEnableScale:n};var r=xo||{},a=r.galleryUrl,o=r.priceStr,i=r.seoLinkUrl,l=r.linkUrl,s=r.priceInfo,c=r.hoverImage;return{showGoodsImg:a||e,showPriceInfo:s?(0,qe.Ig)(s,o,ee,pn,Bt):t,showLinkUrl:l||on,showSeoLinkUrl:i||ln,showHoverImage:(null==c?void 0:c.url)||(null==un?void 0:un.url),saleInfoEnableScale:n}}),[null==cn?void 0:cn.url,Xt,bo,ee,pn,Bt,et,null==Fr?void 0:Fr.resolvedLanguage,ko,xo,on,ln,null==un?void 0:un.url]),ei=$o.showGoodsImg,ti=$o.showPriceInfo,ni=$o.showLinkUrl,ri=$o.showSeoLinkUrl,ai=$o.showHoverImage,oi=ai&&!Xr&&nt,ii=(0,r.useMemo)((function(){return ni&&ri?(0,Q.YK)(ri&&0!==(null==ri?void 0:ri.indexOf("?"))?ri:ni):"/goods.html?_bg_fs=1&goods_id="+pn}),[ni,ri,pn]);(0,r.useEffect)((function(){go(pa),(0,me.KU)({pageSn:ee})}),[ee]);var li=ct&&(null==Ea?void 0:Ea[0].pw)&&(null==Ea?void 0:Ea[0].ph),si=null==zt?void 0:zt(re),ci=ca((0,r.useState)(Da),2),ui=ci[0],di=ci[1],fi=!!(null==ui||null==(G=ui[0])?void 0:G.text),mi=!Ha&&!!(null==Fa?void 0:Fa.length)&&(!no||(null==Kr?void 0:Kr.includes("goodsTags")))&&!si&&!fi,pi=(!no||(null==Kr?void 0:Kr.includes("brandTags")))&&!(null==Fa||null==(U=Fa.some)?void 0:U.call(Fa,(function(e){var t;return+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===qe.oO.BRAND})))&&!(null==Ga?void 0:Ga.length),gi=!(null==Fa?void 0:Fa.some((function(e){var t;if(+(null!=(t=null==e?void 0:e.marketingTagType)?t:0)===qe.oO.COMMENT){var n,r=(null==e||null==(n=e.extMap)?void 0:n.goodsScoreStarComment)&&(0,d.as)(e.extMap.goodsScoreStarComment,{});return r&&r.goods_score_text&&r.comment_num_tips}return!1})))&&((null==_n?void 0:_n.goodsScore)||Wn),vi=(0,r.useRef)(!1),hi=[j.b,j.O6].includes(Lr)&&gi,yi=!Ha&&!mi&&"function"==typeof Pt,bi=(0,R.N)({width:null==cr?void 0:cr.width,height:null==cr?void 0:cr.height}).width,wi=(0,r.useRef)(),Si=De({personalizationTagRef:wi,efficiencyTagWidth:bi}).showPersonalization;(0,r.useEffect)((function(){gt>0&&Bo||(0!==gt||Bo)&&Fo(gt>0)}),[gt]),(0,r.useEffect)((function(){ht>0&&Ko||(0!==ht||Ko)&&(ht>0?qo.loadData({scene:fe.x.RECOMMEND_WORDS_GT_RETURN}):qo.clear())}),[ht]),(0,r.useEffect)((function(){mt>0&&Vo||(0!==mt||Vo)&&ia((function(){return ua(this,(function(e){switch(e.label){case 0:return mt>0?(Zr.stageStart("api"),[4,Ho.loadData()]):[3,2];case 1:return e.sent(),Zr.stageEnd("api"),[3,3];case 2:Ho.clear(),e.label=3;case 3:return[2]}}))}))()}),[mt]),(0,r.useEffect)((function(){bt>0&&Jo||(0!==bt||Jo)&&(bt>0?Yo.loadData():Yo.clear())}),[bt]),(0,r.useEffect)((function(){var e=Jt||{},t=e.priceInfo,n=e.tagsInfo;t&&n&&((null==t?void 0:t.price)!==(null==bo?void 0:bo.price)&&wo(t),di(null==n?void 0:n.couponTag))}),[null==bo?void 0:bo.price,Jt]);var ki,Ti,Ei,Ii=(0,r.useCallback)((function(){Zr.start({type:"click"}),Ie&&Ie({goods_id:pn}),null==It||It((function(t){return Be(t,{goods_id:pn,unique_id:zn},e,{onSkuPanelClose:!0})}))}),[]),xi=(0,r.useCallback)((function(){xe&&xe({goods_id:pn}),null==It||It((function(t){return Be(t,{goods_id:pn,unique_id:zn},e,{onSkuPanelSuccess:!0})}))}),[pn,xe,Vt,e,It,zn]),Ci=(null==Je||null==(Z=Je.cp139870)?void 0:Z.value)||0,Ni=(0,Ue.Z)({cartAmount:(null==re?void 0:re.cartAmount)||ie||0,beforeClickCart:ge,imprEventData:Do,clickEventData:Do,pageSn:ee,params:sa({goods_id:pn,_oak_spec_ids:Nn||"",gc_id:Bn,gc_goods_list:Fn},(0,f.D1)(Hn||{}),Or||{},(0,f.D1)(ir||{}),{_oak_multi_spec_goods_sold:vi.current?1:void 0}),cartScene:ne,defaultSpecId:null==xo?void 0:xo.specId,showGoodsImg:ei,webpEnable:Oe,userCloseCallback:Ii,callback:xi,skuOptions:at,cartBtnRef:Yr,usePreloadSku:Ci}),_i=Ni.cartAmount,Pi=Ni.onClick,Wi=Ni.preloadSku,Ai=(0,r.useCallback)((function(e,t){null==e||e.stopPropagation(),Ci&&1==+(null==e?void 0:e.buttons)&&Wi(t)}),[Wi,Ci]),Li=(0,r.useCallback)((function(e,t){ke&&ke({goods_id:pn}),Pi(e,t)}),[]),Oi=(0,r.useCallback)((function(e){Ee&&Ee({goods_id:pn}),Pi(e)}),[]),Ri=(0,r.useCallback)((function(){(0,x.ax)({page_el_sn:222269}),null==ki||ki()}),[]),ji=(0,r.useCallback)((function(){var e;if(Hr.current){for(var t=[],n=(null==(e=Hr.current)?void 0:e.childNodes)||[],r=0;r<n.length;r++){var a,o;"1"===(null==(o=n[r])||null==(a=o.getAttribute)?void 0:a.call(o,"data-active"))&&t.push(n[r])}return(0,qe.W5)(t,ka)}}),[]),Mi=(null==Je||null==(z=Je.cp99471)?void 0:z.value)&&lo&&Ht,Di=(0,r.useMemo)((function(){var e={};return Mi&&!_i&&(e.auto_show_buy_now_sku_panel=1),(0,m.ru)(sa({refer_page_el_sn:te},pe||{},e),ii)}),[ii,pe,te,_i,Mi]),Gi=(0,r.useCallback)((function(){return Di}),[Di]),Ui=(0,r.useCallback)(ia((function(e,t){var n,r,a,o,i,l,s;return ua(this,(function(c){switch(c.label){case 0:return void 0===e&&(e={}),void 0===t&&(t=""),Se&&Se({goods_id:pn}),o=ji(),function(e){try{if(!e)return;var t=JSON.stringify(e);return window.sessionStorage.setItem(Te,t),!0}catch(e){return!1}}({goods_id:pn,unique_id:zn}),ei&&(0,L.p)(ei,Oe),i=sa({},Ao,Mo,{page_el_sn:te,tag_list:o,details_tag_list:nr($a)}),(null==e||null==(a=e.target)||null==(r=a.className)||null==(n=r.indexOf)?void 0:n.call(r,"skcImg"))>-1&&(i.choose_skc=1),oo.current+=1,oo.current>=2&&(i.is_snd_clk=1),[4,(0,x.ax)(i).catch((function(){}))];case 1:return c.sent(),l={},Ne&&(l={openTarget:"_blank"}),s=t||Di,vi.current&&(s=(0,m.ru)({_oak_multi_spec_goods_sold:1},s)),s&&(0,de.jm)(s,l),[2]}}))})),[Ao,Di,ji,pn,Fa,Se,Ne,te,li,ei,Mo,zn,Oe]),Zi=(0,r.useCallback)((function(e){var t,n;null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e);var a=co?r.createElement(O.p,{mainGooodsInfo:re,pageSn:ee,onClose:Ri,addCartTrackingInfo:Do,skuParams:Or,skuExtraParam:ir,skuOptions:at}):r.createElement(en,{mainGoodsId:pn,isWindows:ro,webpEnable:Oe,pageSn:ee,quickLook:En,openGoodsWithNewTab:Ne,onClose:Ri,addCart:Oi,goodsInfo:re,priceInfo:ti,skuParams:Or,grayConfig:Je});ki=(0,p.Z)(a,{})}),[]),zi=(0,r.useRef)(null),Bi=ca((0,r.useState)(!1),2),Fi=Bi[0],Hi=Bi[1],qi=(0,r.useCallback)((function(){var e;Xr&&!Fi&&(Vo||Bo||Jo||Ko||null==zi||null==(e=zi.current)||e.onStart({cb:function(e){Hi(e)}}))}),[Xr,Fi,Vo,Bo,Jo,Ko]),Yi=(0,r.useCallback)((function(){var e;Rn&&(null==zi||null==(e=zi.current)||e.onStop({cb:function(e){return Hi(e)}}))}),[Xr,Fi]),Vi=(null==ka?void 0:ka.length)?ka[0]:{},Ki=Vi.text,Ji=void 0===Ki?"":Ki,Qi=Vi.url,Xi=void 0===Qi?"https://aimg.kwcdn.com/upload_aimg/temu/f2cda539-4c39-4bce-afde-37ad4167120b.png":Qi,$i=Vi.color,el=sa({},Ao,Mo,{page_el_sn:te,get tag_list(){var e,t,n,r=(null==(e=Hr.current)?void 0:e.getAttribute("data-active"))||0,a=null==(n=Hr.current)||null==(t=n.childNodes)?void 0:t[r];return(0,qe.W5)([a],ka)},get details_tag_list(){return nr($a)}}),tl=null==Je||null==(B=Je.cp116861)?void 0:B.value,nl=tl?ta.E:Ye.IH,rl=(0,r.useCallback)((function(e){Zi(e)}),[]),al="function"==typeof Nt?Nt(re):null,ol="function"==typeof _t?_t(re):null,il=(la(Ti={},Dr.P.DEFAULT,ra().hoverThemeDefault),la(Ti,Dr.P.SCALE,ra().hoverThemeScale),la(Ti,Dr.P.NONE,ra().noHover),Ti),ll=st&&!Ae&&!ce&&(null==_n?void 0:_n.avatar)&&(null==_n?void 0:_n.comment),sl=ll?o()(ra().goodsWrapper,la({},ra().newStyle,!0)):o()(ra().goodsWrapper,ae,il[lt],(la(Ei={},ra().noHover,po),la(Ei,ra().showCategoryCard,Bo),la(Ei,ra().newStyle,!0),Ei));(0,r.useEffect)((function(){var e=function(e){var t=((null==e?void 0:e.detail)||{}).data;(null==t?void 0:t.goodsId)===pn&&_o(t)};return document.addEventListener(ue,e),function(){document.removeEventListener(ue,e)}}),[pn]);var cl=dr===j.Iv.buyNow,ul=cl?Br("buyNow"):"",dl=(0,l.t)((function(e){var t,n;if(null==e||null==(t=e.preventDefault)||t.call(e),null==e||null==(n=e.stopPropagation)||n.call(e),cl&&ur&&Pr&&pr){var r=(0,m.ru)({goods_list:JSON.stringify([{sku_id:Pr,goods_number:1,goods_id:pn}]),login_scene:j.sQ.buyNow,addr_scene:j.Up.buyNow},pr);_.Z.openWindow((0,Q.YK)(r),{target:"_blank",features:"noopener"})}else Oi(e)})),fl=(0,r.useMemo)((function(){var e,t;return(null==Je||null==(e=Je.cp137786)?void 0:e.style)?sa({},(null==Et?void 0:Et.goodsName)||{},{name:da[null==Je||null==(t=Je.cp137786)?void 0:t.style]}):null==Et?void 0:Et.goodsName}),[null==Et?void 0:Et.goodsName,null==Je||null==(F=Je.cp137786)?void 0:F.style]);if(!pn)return null;var ml,pl,gl,vl,hl,yl,bl,wl,Sl,kl,Tl,El,Il="function"==typeof Yt?Yt($):Yt,xl=null==Je||null==(H=Je.cp122051)?void 0:H.value,Cl=(null==Za?void 0:Za[0])||{},Nl=Cl.endTime,_l=Cl.text,Pl=Nl&&_l,Wl=mi?r.createElement(bn.Z,{data:Fa,className:o()(ra().item,la({},ra().goodsTag,hi)),ref:Hr,supportTagCarousel:Jn,goodsId:pn,openGoodsWithNewTab:Ne,commonTrackingInfo:St,trackingGoodsInfo:Mo,grayConfig:Je,pageSn:ee,showScoreNum:er}):null;return r.createElement(wn.Z,{className:sl,onClick:Ui,title:Qt,goodsId:pn,noHover:po,type:ll?Dr.l.expand:Dr.l.default,classConfig:null==Et?void 0:Et.goodsContainer,payload:el,tooltipDisabled:tl},r.createElement(nl,{id:"goodsImage-"+pn,title:Qt,fixed:!0,hidden:Fi,className:o()(ra().item,"goods-image-container-external"),expandLeft:9,expandRight:9,expandTop:9},r.createElement(dt.Z,{HWRatio:kr,onMouseEnter:qi,onMouseLeave:Yi},r.createElement("div",{className:o()(ra().goodsImgContainer,la({},ra().multiImgFadeAniEnable,oi))},!!(null==cr?void 0:cr.engThumbUrl)&&r.createElement(R.Z,{data:cr,goodsId:pn,lazy:fo}),!qa&&(null==cn?void 0:cn.watermark)?r.createElement(h.ZP,{lazy:fo,src:null==cn?void 0:cn.watermark,className:ra().watermark,alt:sn||Qt,processParam:{resizeWidth:136,webpEnable:Oe},"aria-hidden":!0}):r.createElement(r.Fragment,null),ei?r.createElement(I,{rootMargin:"string"==typeof $e?$e:+$e+"px",rootRef:null},r.createElement(Wt.Z,{alt:sn||Qt,lazy:fo,src:ei,className:o()(kr>1?ra().goodsImgWithFullHeight:ra().goodsImg,"goods-img-external"),wrapClassName:o()(ra().goodsImageWrap,(ml={},la(ml,ra().adultGoodsImg,Wr),la(ml,ra().centerHorizontally,xl),ml)),processParam:Jr,emageProgress:Il})):r.createElement("div",{className:ra().noImgContainer}),oi?r.createElement(Wt.Z,{alt:sn||Qt,lazy:fo,src:ai,wrapperClass:ra().secFadeAni,processParam:Jr,emageProgress:Il,className:o()(ra().secFadeAni,kr>1?ra().goodsImgWithFullHeight:ra().goodsImg)}):null,Xr?r.createElement(Sn.Z,{ref:zi,poster:na,videoURL:Xr,isCrawler:no}):null,!!Va&&r.createElement("div",{className:ra().masker},r.createElement("div",{className:ra().loadingBall},r.createElement("span",{className:ra().ballItem}),r.createElement("span",{className:ra().ballItem}),r.createElement("span",{className:ra().ballItem}))),Vo&&!so?r.createElement(r.Fragment,null,r.createElement(uo,{tooltipProps:tl?void 0:{id:"GoodsSimilar-"+pn,title:Qt,hidden:!0},mainGoodsId:pn,title:Br("similar.title"),viewMoreText:Br("similar.viewMore"),goodsList:Ho.goodsList,webpEnable:Oe,onClose:Qo,onClickTitle:rl,onClickViewMoreBtn:rl,loggerParams:{main:205632,title:205652,viewMore:205633,goods:205634},isSmall:!!(0,qe.FX)(null==ti?void 0:ti.currency),commonTrackingInfo:Ao,trackingGoodsInfo:Mo,pageSn:ee,grayConfig:Je}),r.createElement(Zr.End,{name:"pc_buiGoodsListShowSimilarAfterSkuClose"})):null,Bo&&!Vo?r.createElement(g.SV,null,r.createElement(An,{pageSn:ee,goodsId:pn,closeCategoryCard:Qo,lazy:fo,webpEnable:Oe,commonTrackingInfo:Ao,trackingGoodsInfo:Mo,grayConfig:Je,optId:Gn,isSmall:!!(0,qe.FX)(null==ti?void 0:ti.currency)})):null,Ko?r.createElement(nl,{id:"RecommendWords-"+pn,hidden:!0,title:Qt},r.createElement(Un,{lazy:fo,webpEnable:Oe,data:qo,onClose:Qo,commonTrackingInfo:Ao,trackingGoodsInfo:Mo,recommendWordsTrackingInfo:Tt,openRecommendWordsWithNewTab:Pe})):null,Jo?r.createElement(nl,{id:"ReleatedGoods-"+pn,hidden:!0,title:Qt},r.createElement(Kn,{pageSn:ee,cartScene:ne,webpEnable:Oe,lazy:fo,goodsId:pn,skuParams:Or,data:{title:Br("similar.titleReleatedGoods"),goodsList:null==Yo?void 0:Yo.goodsList},trackingGoodsInfo:Mo,onClose:Qo,onMouseEnter:vo,onMouseLeave:ho,isWindows:ro,grayConfig:Je})):null),al||null,ol||null,!al&&function(){var e=(null==Ia?void 0:Ia[0])||{},t=e.text,n=e.tagId,a=e.url;if(li)return r.createElement(yn,sa({data:Ea},ut||{}));if(t){var o=91011===n?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAMAAAAM7l6QAAAAqFBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+/v7///////////////////////8OiAXtAAAAN3RSTlMA+wX894ELdN8g5cKqSzYQDse1j2cdFPLu056Yh25iW1U/L+nWzb+SfDstuIpRQykX4ti7slwmvpUHHAAAAYRJREFUKM99kul2gjAQhZMqqyAgiKIi4G5du877v1lvhqRH67GXHyT5cpnJJULLG4p/NPfd6jmtJZEs/yy+mMF5RBKPdcOGTuKn7YaFT+S+gafGYDs+dah75q7eibqhV1CXgrjd30MtScsFxlEC31yIK9bci6IZanXgHqiJA5elGskHiYeXPSUgSPb5TDBvPDWKr6DeRkOaCdYUw9W3PsvexYxpL9Z9ppi4DdNwabzLV2FkYeqowVdXUebhTTwlWW2XmnaovMuvsfkjHVDd1oOOWNbe6WP8Nc6vvYFase/5iaSmA64UaG40Q5RMo7bLQ6SBXR8X8KvWJB3YFaBUMjS5kasC3ilvjI0oNgFvg+urv+c3WM5W24gptMXevmqq4rsyDg0IOc9oRbTHO+8RBF7raykL5muik3CCwoQx4lb2UqITfGlDlKl2TJIT/YPAR8kkg3sn8jUAm3u5Pmf5G1+Km/jJ4/EsFkbVWJcL+GBOalVsNYqabPtR+Cj3XPYlHD6nHMIPSZA5l1zFDWgAAAAASUVORK5CYII=":a;return r.createElement("div",{className:ra().personalizationTag,ref:wi,style:{opacity:Si?1:0}},!!o&&r.createElement(h.ZP,{className:ra().img,src:o,lazy:fo,"arir-hidden":!0,alt:""}),r.createElement("div",{className:ra().text},t))}return null}(),!ol&&(yl=function(){return Xa?null:qa?r.createElement(ea,sa({},qa||{},{webpEnable:Oe,lazy:fo,classConfig:null==Et?void 0:Et.watermark,serverTime:Gt,rowNum:Zt})):null},bl=!!(null==Ca||null==(pl=Ca[0])?void 0:pl.text)&&!Xo,wl=!!Xr&&!!$r,Sl=(null==Vr?void 0:Vr.open)&&!no&&!wl&&!Xo,kl=wl||Sl||!!(null==Ca||null==(gl=Ca[0])?void 0:gl.text)||Xo,Tl=null==Je||null==(vl=Je.cp92644)?void 0:vl.value,El=(!Xa||Tr!==j.lK.Promotion)&&(null==Cn?void 0:Cn.length)>0,r.createElement("div",{className:ra().bottomTips},kl?r.createElement("div",{className:o()(ra().quickLookAndAttributesTags,la({},ra().showVideoIconAndAttributesTag,wl&&Tl&&bl))},r.createElement("div",{className:ra().videoIconWithSimilarEntry},!!wl&&!(bl&&!Tl)&&r.createElement(h.ZP,{lazy:fo,src:$r,className:o()(ra().videoIconUrl,la({},ra().hasAttribute,bl)),"aria-hidden":!0,alt:sn||Qt,processParam:Jr}),!!Xo&&r.createElement(r.Fragment,null,r.createElement("div",{className:ra().similarEntryPlaceholder}),r.createElement(rn,{showVideoIcon:wl,onClick:Zi,className:ra().similarEntry}))),!!Sl&&r.createElement(nl,{className:ra().quickLook,id:"QuickLook-"+pn,title:((null==Vr||null==(hl=Vr.text)?void 0:hl.text)||Br("quickLookBtn")||"")+" - "+(Qt||"")},r.createElement(Lt.Z,sa({onMouseDown:Ai},Vr,{addCart:Li,trackingInfo:Do,classConfig:null==Et?void 0:Et.quickLook}))),bl?r.createElement(g.SV,null,r.createElement(mn,{className:ra().attributesWrap,tags:Ca,lazy:fo,grayConfig:Je,goodsId:pn})):null):null,!no&&yl(),no||yl()||!El?null:r.createElement(qr,sa({},Cn[0]||{},{serverTime:Gt,rowNum:Zt,grayConfig:Je})))))),r.createElement(Ye.IH,{className:o()(ra().item),id:"goodName-"+pn,title:Qt,fixed:!0,expandLeft:9,expandRight:9,expandTop:12},r.createElement(A.ZP,{className:ra().nameWrap,seoUrl:ri,jumpUrl:ni,onClick:fa,index:$,pageElSn:te,url:ni,generateMouseDownHref:Gi},!!(null==_a?void 0:_a.length)&&r.createElement(K,{titleHeaderTags:_a,watermarkBeforeName:Xa,lazy:fo}),r.createElement(Ot.Z,{name:Qt,showDiscount:Ke,discount:null==ti?void 0:ti.reductionTextStr,headerTag:ot,classConfig:fl,titleRow:Xn}))),"function"==typeof At&&At(re),!!(null==Ba?void 0:Ba.length)&&r.createElement(tr,{data:Ba,className:ra().qualityTags,ref:$a}),r.createElement("div",{className:o()(ra().saleInfo,ra().item,la({},ra().noCart,!Zo))},r.createElement(Rt.Z,{price:(null==No?void 0:No.showPriceStr)||(null==ti?void 0:ti.showPriceStr),pricePrefix:(null==No?void 0:No.unitPrefix)||(null==ti?void 0:ti.unitPrefix),priceSuffix:(null==No?void 0:No.unitSuffix)||(null==ti?void 0:ti.unitSuffix),marketPrice:wt?null:null==ti?void 0:ti.showMarketPriceStr,discount:wt?null:null==ti?void 0:ti.reductionTextStr,priceColor:(null==No?void 0:No.priceColor)||(null==ti?void 0:ti.priceColor),sales:nn,salesArray:va,showDiscount:!Ke,noSalesTipText:Mn,classConfig:null==Et?void 0:Et.sale,isCrawler:no,isWindows:ro,lazy:fo,webpEnable:Oe,className:ra().saleInfoL,saleFireFlag:ar,useNewSalesTip:ga,textBeforePrice:to,textBeforeMetrics:{page_el_sn:231953},marketPriceIcon:null==ti?void 0:ti.marketPriceIcon,activityIconInfo:io,splitPriceText:(null==No?void 0:No.splitPriceText)||(null==ti?void 0:ti.splitPriceText),unitPriceStr:null==ti?void 0:ti.unitPriceStr,afterPriceShowPriority:xr,afterPriceTipText:Nr,grayConfig:sa({},Je||{},{cp124199:Uo||null==Je?void 0:Je.cp124199}),ignoreGoodsSaleInlineScriptEffect:Kt,salesTipWithTime:_r,weakenCurrencyExp:Ur,activityType:Tr,goodsId:pn,hiddenDiscountAfterPrice:!0,allLocationDataDictMap:Ar,hasShowUnitSaleRef:vi}),Zo?r.createElement(C.ZP,{payload:Go},r.createElement("div",{ref:Yr,className:ra().addCartWrap},r.createElement(jt.Z,{cartAmount:_i,addCart:dl,className:ra().saleInfoR,onMouseEnter:vo,onMouseLeave:ho,addCartText:ul,onMouseDown:Ai}))):null),!!(null==Po||null==(q=Po[0])?void 0:q.text)&&r.createElement(sr,{data:Po,goodsId:pn,grayConfig:Je}),wa?r.createElement(fr,{ratio:ya,salesPercentStr:ba,className:ra().item,withCart:oe,processTrackingInfo:ze}):null,wt&&!xt?r.createElement(mr.Z,{marketPrice:null==ti?void 0:ti.showMarketPriceStr,discount:null==ti?void 0:ti.reductionTextStr,className:ra().item,prefix:Br("regularPricePrefix")}):null,wt&&xt?r.createElement(mr.Z,{marketPrice:null==ti?void 0:ti.saveTextStr,discount:null==ti?void 0:ti.reductionTextStr,className:ra().item}):null,Ha?r.createElement("div",{className:o()(ra().item,ra().promotionTagDiscount)},r.createElement("div",{className:ra().promotionPrise},(Ha.promotionPrice||[]).join("")),r.createElement("div",{className:ra().promotionText},r.createElement("span",{className:ra().promotionTextScale},Ha.promotionTag))):null,!!(null==Oa?void 0:Oa.length)&&r.createElement(vr,{firstInstallmentTag:Oa,lazy:fo,className:ra().payTag}),!!Pl&&r.createElement(hr.D,{displayEndTime:Nl,displayEndTimePercent:+_l,displayEndTimePercentImg:null==Za||null==(Y=Za[0])?void 0:Y.url,processStyle:{background:null==Za||null==(V=Za[0])?void 0:V.color},processWrapStyle:{background:null==Za||null==(J=Za[0])?void 0:J.backColor},countDownStyle:{color:null==Za||null==(X=Za[0])?void 0:X.color},className:ra().processTag}),hi?null:Wl,!!fi&&r.createElement(se,{data:ui,className:o()(ra().couponTag,ra().item)}),si,yi?r.createElement(r.Fragment,null,Pt(re)):null,gi?r.createElement("div",{className:o()(ra().rateAndSaleInfo,ra().item)},r.createElement(yr.Z,{score:(null==_n?void 0:_n.goodsScore)||Wn,scoreText:null==_n?void 0:_n.goodsScoreText,numTips:(null==_n?void 0:_n.commentNumTips)||Pn,showScoreNum:er,scoreColor:null==_n?void 0:_n.scoreColor,grayConfig:Je,hiddenComment:(null==_n?void 0:_n.hiddenComment)||Uo||(null==Cr?void 0:Cr.length)||hi,pageSn:ee,size:hi?"14px":"18px"}),!!((null==Cr?void 0:Cr.length)||Uo&&Lr!==j.b)&&r.createElement(Rt.Z,{hiddenPrice:!0,sales:nn,salesArray:va,noSalesTipText:Mn,isCrawler:no,isWindows:ro,lazy:fo,webpEnable:Oe,saleFireFlag:ar,useNewSalesTip:ga,afterPriceShowPriority:Cr,afterPriceTipText:Nr,salesTipWithTime:_r,goodsId:pn,allLocationDataDictMap:Ar,hasShowUnitSaleRef:vi}),!!hi&&Wl):null,pi?r.createElement(br.Z,{brandTagLogo:Xi,brandTagText:Ji,className:ra().item,grayConfig:Je,style:{color:$i}}):null,!!(null==Ga?void 0:Ga.length)&&r.createElement(Ir,{tags:Ga,goodsId:pn,className:ra().item,lazy:fo}),ko?r.createElement(jr,{className:ra().item,webpEnable:Oe,imageProcessParam:Jr,setSkcIndex:Io,currentSkcIndex:Eo,setSkcLoading:Ka,skcList:So,commonTrackingInfo:Ao,trackingGoodsInfo:Mo,skcTrackingInfo:kt,alt:sn||Qt}):null,!Ae&&ce?r.createElement(nl,{id:pn+"5",title:Qt,hidden:!0},r.createElement("div",null,r.createElement(ce,sa({},e,{onMouseEnter:vo,onMouseLeave:ho,onAddCartClick:Oi})))):null,Ae?r.createElement(nl,{id:pn+"6",title:Qt,hidden:!0},r.createElement(C.ZP,{payload:Go},r.createElement("div",{ref:Yr},r.createElement("div",{className:ra().cartPlaceholder}),r.createElement("div",{className:ra().cartBtn,onClick:Oi,onMouseEnter:vo,onMouseLeave:ho},Br("addCart"))))):null,r.createElement(wn.H,null,r.createElement(Mr.Z,sa({},_n,{className:ra().comment,lazy:fo,webpEnable:Oe}))))})),va=n(13938);function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function ba(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ya(o,r,a,i,l,"next",e)}function l(e){ya(o,r,a,i,l,"throw",e)}i(void 0)}))}}function wa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sa(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var ka="hidden",Ta="visibilitychange";void 0!==document.webkitHidden&&(ka="webkitHidden",Ta="webkitvisibilitychange");var Ea={serverTime:null,startTime:null,nowTime:null,curTime:function(){return Ea.serverTime&&Ea.startTime?(Ea.nowTime=Ea.serverTime+Date.now()-Ea.startTime,Ea.nowTime):(Ea.nowTime=Date.now(),Ea.nowTime)},initServerTime:ba((function(){var e;return Sa(this,(function(t){switch(t.label){case 0:return[4,(0,va.bp)()];case 1:return e=t.sent(),Ea.serverTime=e,Ea.startTime=Date.now(),Ea.nowTime=Date.now(),[2]}}))}))};"undefined"!=typeof window&&Ea.initServerTime();var Ia=function(e){var t,n=e.max,a=void 0===n?59:n,o=e.parentDom,i=void 0===o?"":o,l=e.scaleEleRatioMap,s=void 0===l?{}:l;try{t=JSON.stringify(s)}catch(e){}return r.createElement("script",{dangerouslySetInnerHTML:{__html:'(function() {"use strict";var __assign=(this&&this.__assign)||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __rest=(this&&this.__rest)||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t};var md=function(B,C){var D;if(C===void 0){C={}}try{var E={1:\'saleTips\',2:\'marketPrice\',3:\'discount\',4:\'unitPrice\',5:\'noSaleTips\',8:\'salesTipwithTime\',9:\'unitSale\',};var F={price:\'price\',saleText:\'saleTips\',marketPrice:\'marketPrice\',reduction:\'discount\',unitPrice:\'unitPrice\',afterPriceTipText:\'noSaleTips\',salesTipwithTime:\'salesTipwithTime\',priceText:\'priceText\',unitSale:\'unitSale\',};var G=[F.afterPriceTipText,F.saleText,F.unitSale,F.salesTipwithTime,];if(!B){return}var H=0.84;var I=0.88;var J=6;var K=6;var L=4;var M=\'width: 0px;opacity:0;margin:0;\';var N=B.querySelector("[data-type=price]");var O=B.querySelector("[data-type=marketPrice]");var P=B.querySelector("[data-type=saleTips]");var Q=B.querySelector("[data-type=discount]");var R=B.querySelector("[data-type=priceIcon]");var S=B.querySelector("[data-type=priceText]");var T=B.querySelector("[data-type=unitPrice]");var U=B.querySelector("[data-type=noSaleTips]");var V=B.querySelector("[data-type=salesTipwithTime]");var W=B.querySelector("[data-type=unitSale]");var X=function(){return{price:(N===null||N===void 0?void 0:N.offsetWidth)||0,marketPrice:(O===null||O===void 0?void 0:O.offsetWidth)||0,discount:(Q===null||Q===void 0?void 0:Q.offsetWidth)||0,saleTips:(P===null||P===void 0?void 0:P.offsetWidth)||0,priceIcon:(R===null||R===void 0?void 0:R.offsetWidth)||0,priceText:(S===null||S===void 0?void 0:S.offsetWidth)||0,unitPrice:(T===null||T===void 0?void 0:T.offsetWidth)||0,noSaleTips:(U===null||U===void 0?void 0:U.offsetWidth)||0,salesTipwithTime:(V===null||V===void 0?void 0:V.offsetWidth)||0,unitSale:(W===null||W===void 0?void 0:W.offsetWidth)||0,}};var Y=function(a,b,c,d){if(c===void 0){c=true}if(d===void 0){d=0}if(b<=0){return M}if(a>=1){return"margin-inline-start:".concat(d,"px")}var e=b*(1-a);return"".concat(c&&b?"width:".concat(b,"px;"):\'\',"-webkit-transform: scale(").concat(a,") translateZ(0);transform:scale(").concat(a,") translateZ(0);margin-inline-start: ").concat(d?"".concat(d,"px"):\'\',";margin-inline-end: ").concat(e?"".concat(-e,"px"):\'\')};var Z=function(a,b){if(b===void 0){b=0}if(a<=0||a>1){return b}return Math.ceil(b*a)};var ba=function(a,b){if(a>=1){return 1}return Math.max(a,b)};var bb=function(b,c){var d=0;Object.values(b).forEach(function(a){d+=a?c:0});return d};var bc=function(b){var c=b.width,bj=c===void 0?0:c,_c=b.priceText,priceText=_c===void 0?0:_c,price=b.price,map=__rest(b,["width","priceText","price"]);var d=bb(map,J);var e=Object.values(map).reduce(function(a,v){if(v===void 0){v=0}return a+v},0);if(!e)return{};var f=map.unitPrice,unitPrice=f===void 0?0:f,_e=map.discount,discount=_e===void 0?0:_e,_f=map.marketPrice,marketPrice=_f===void 0?0:_f,_g=map.saleTips,saleTips=_g===void 0?0:_g,_h=map.priceIcon,priceIcon=_h===void 0?0:_h,_j=map.noSaleTips,noSaleTips=_j===void 0?0:_j,_k=map.salesTipwithTime,salesTipwithTime=_k===void 0?0:_k,_l=map.unitSale,unitSale=_l===void 0?0:_l;var g=e+priceText+price+d+K-bj;if(g<=0){return{unitPrice:!unitPrice?M:undefined,discount:!discount?M:undefined,marketPrice:!marketPrice?M:undefined,saleTips:!saleTips?M:undefined,priceIcon:!priceIcon?M:undefined,priceText:!priceText?M:undefined,noSaleTips:!noSaleTips?M:undefined,salesTipwithTime:!salesTipwithTime?M:undefined,unitSale:!unitSale?M:undefined,}}var h=bb(map,L);var i=bb(map,J-L);var j={};var k=(g-i)/(e+priceText);var l=1-k;var m=ba(l,H);var n=C.priceText||m;var o=Z(m,marketPrice);var p=Z(m,noSaleTips);var q=Z(m,saleTips);var r=Z(m,discount);var s=Z(m,unitPrice);var t=Z(n,priceText);var u=Z(m,priceIcon);var w=Z(m,salesTipwithTime);var x=Z(m,unitSale);j.marketPrice=Y(m,marketPrice,true,L);j.saleTips=Y(m,saleTips,true,L);j.discount=Y(m,discount,true,L);j.unitPrice=Y(m,unitPrice,true,L);j.noSaleTips=Y(m,noSaleTips,true,L);j.priceText=Y(n,priceText,true,L);j.priceIcon=Y(m,priceIcon,true,L);j.salesTipwithTime=Y(m,salesTipwithTime,true,L);j.unitSale=Y(m,unitSale,true,L);if(l>=H){return j}var y=price+o+q+r+s+h+p+priceIcon+priceText+t+u+w+x+unitPrice-bj;var z=1-y/price;var A=ba(z,I);j.price=Y(A,price,false);if(z>=I){return j}return null};var bd=function(a,b,c,d){var e;if(c===void 0){c=[]}if(d===void 0){d=false}if(!b||!a){return{}}var f;var g=a.price,price=g===void 0?0:g,_c=a.priceIcon,priceIcon=_c===void 0?0:_c,_d=a.priceText,priceText=_d===void 0?0:_d;if(b-price<10){return{}}var h={};for(var i=0;i<(c===null||c===void 0?void 0:c.length);i++){var j=c.slice(i);var k=void 0;for(var l=0;l<j.length;l++){var m=k&&!a[k];if(!m){f=bc(__assign(__assign(__assign({width:b},a),h),(e={},e[k]=0,e)))}k=j[l];if(f)break}var n=c[i];h[n]=0;if(f)break}if(d)return f;if(!f&&priceIcon&&priceText){var o=b-price-priceIcon-priceText;if(o+priceIcon>=0){return{priceIcon:__assign(__assign({},M),{width:\'1px\'}),}}if(o+priceText>=0){return{priceText:M,}}}return(f||{priceIcon:M,priceText:M,})};var be=function(a){B.className+=\' show\';if(a.price&&N){N.style=a.price}if(a.marketPrice&&O){O.style=a.marketPrice}if(a.discount&&Q){Q.style=a.discount}if(a.saleTips&&P){P.style=a.saleTips}if(a.priceIcon&&R){R.style=a.priceIcon}if(a.priceText&&S){S.style=a.priceText}if(a.unitPrice&&T){T.style=a.unitPrice}if(a.noSaleTips&&U){U.style=a.noSaleTips}if(a.salesTipwithTime&&V){V.style=a.salesTipwithTime}if(a.unitSale&&W){W.style=a.unitSale}};var bf=function(a,b,c){var d=a;if(!c.includes(a)){return b}if(!c.includes(b)){return a}for(var i=0;i<c.length;i++){var e=c[i];if([a,b].includes(e)){d=e;break}}return d===a?b:a};var bg=X();var bh=(D=B.dataset)===null||D===void 0?void 0:D.priorityList;var bi=bh.split(\'\').map(function(a){return E[a]});var bj=Math.floor(B.offsetWidth);var bk=void 0;var bl=function(){var b;var c=[];var d=[];var e={};G.forEach(function(a){e[a]=0});var f=bi.length;for(var i=f-1;i>=0;i--){var g=bi[i];var h=!!bg[g];if(h&&G.includes(g)){c.push(g);d.push(__assign(__assign({},e),(b={},b[g]=bg[g],b)))}}return d};var bm=bl({map:bg,hiddenPriorityList:bi,});var bn=bi.length;var bo={};for(var i=0;i<bm.length-1;i++){var bp=bm[i]||{};bk=bd(__assign(__assign({},bg),bp),bj,bi,C,true);if(bk){break}}if(!bk){for(var i=0;i<bn;i++){var bq=bn-1-i;var br=bi[bq];bk=bd(__assign(__assign({},bg),bo),bj,bi,C,i!==bn-1);bo[br]=0;if(bk){break}}}bk&&be(bk)}catch(e){}};var max='+a+';var parentDom="'+i+'"?document.querySelector("'+i+'"):document;var doms=parentDom===null||parentDom===void 0?void 0:parentDom.querySelectorAll("[data-sales=true]");if((doms===null||doms===void 0?void 0:doms.length)>0){for(var i=0;i<doms.length;i++){if(i>max){break}md(doms[i], '+t+")}};})();"}})},xa=(0,r.memo)(Ia),Ca=n(91851),Na=n(73463),_a=n.n(Na),Pa=(n(80978),n(11183),n(4256),n(25731),n(14635)),Wa=n(81518);function Aa(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function La(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Aa(o,r,a,i,l,"next",e)}function l(e){Aa(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Oa(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}var Ra=function(e){document.dispatchEvent(new CustomEvent(ue,{detail:{data:e}}))},ja=100010043,Ma=function(e){var t=e.goodsList,a=(0,r.useRef)(),o=(0,r.useRef)({}),i=(0,P.lO)().isCrawler;(0,r.useEffect)((function(){null==t||t.forEach((function(e){var t=(null==e?void 0:e.data)||{},n=t.goodsId,r=t.currentSkuId;o.current[n]=r}))}),[t]);var l=(0,r.useCallback)(La((function(e){var t,n,r,a,i;return Oa(this,(function(l){switch(l.label){case 0:return t=[],null==e||e.forEach((function(e){var n=o.current[e];n&&t.push({goods_id:+e,show_price_sku_id:n})})),t.length?[4,(0,me.S6)({url:"/api/promotion/goods/discount/info/refresh/query",params:{goods_info_list:t}}).catch((function(e){var n=new Error("updateDiscountPriceError");(0,an.K2)(n,{errorMsg:null==e?void 0:e.message,goodsInfoList:t})}))]:[2];case 1:return n=l.sent(),a=(r=n||{}).cancelDisplayTagMap,i=r.goodsDiscountInfoDisplayTagMap,Object.keys(a||{}).forEach((function(e){var t=(a[e]||{}).goodsPrice,n=(0,qe.Ig)(t),r=null==n?void 0:n.splitPriceText;Ra({goodsId:+e,hasSpecialOffer:!1,showPriceStr:null==n?void 0:n.showPriceStr,priceColor:null==n?void 0:n.priceColor,unitPrefix:null==n?void 0:n.unitPrefix,unitSuffix:null==n?void 0:n.unitSuffix,specialOfferTag:[{endTime:0,text:""}],splitPriceText:(null==r?void 0:r.length)?r:void 0})})),Object.keys(i||{}).forEach((function(e){var t,n=(null==(t=i[e])?void 0:t[0])||{},r=n.afterDiscountPrice,a=n.endTime,o=n.discountInfoTag,l=n.tagType,s=n.tagStyle,c=(0,qe.Ig)(r),u=null==c?void 0:c.splitPriceText,d={goodsId:+e,hasSpecialOffer:!0,showPriceStr:null==c?void 0:c.showPriceStr,priceColor:null==c?void 0:c.priceColor,unitPrefix:null==c?void 0:c.unitPrefix,unitSuffix:null==c?void 0:c.unitSuffix,specialOfferTag:[{endTime:a,text:null==o?void 0:o.tagStr,tagType:l,color:null==o?void 0:o.tagColor,extMap:{tagStyle:s,tagEndStr:null==o?void 0:o.tagEndStr,tagEndStrColor:null==o?void 0:o.tagEndStrColor}}],splitPriceText:(null==u?void 0:u.length)?u:void 0};Ra(d)})),[2]}}))})),[]);return(0,r.useEffect)((function(){if(!i&&!window.__TITAN_BOT__){var e=La((function(){var e,t,r,o;return Oa(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(3708),n.e(4881)]).then(n.bind(n,73708))];case 1:return e=i.sent(),r=(t=e||{}).Titan,o=t.Unicast,r.usePlugin(o),a.current=new r({url:"wss://"+location.host,appId:10001,projectName:"bui-web-goods-list",bizType:ja}),a.current.on("message",(function(e){var t=e||{},n=t.actionId,r=t.payload;if(+n===ja){var a=(r||{}).goods_id_list;(null==a?void 0:a.length)&&l(a)}})),a.current.connect(),[2]}}))}));(0,Pa.J)((0,Wa.ej)()).then((function(t){t&&e()}))}}),[i,l]),(0,r.useEffect)((function(){var e=[],t=La((function(t){var n,r;return Oa(this,(function(a){switch(a.label){case 0:return(n=((null==t?void 0:t.detail)||{}).goodsId)&&e.push(n),[4,(o=1e3,new Promise((function(e){setTimeout(e,o)})))];case 1:for(a.sent();e.length;)(null==(r=e.splice(0,5))?void 0:r.length)&&l(r);return[2]}var o}))}));return document.addEventListener(ce,t),function(){document.removeEventListener(ce,t)}}),[l]),null},Da=(n(65845),n(99492),n(22979),n(91211),n(70309),n(44507));function Ga(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ua(e){return function(e){if(Array.isArray(e))return Ga(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ga(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Za;function za(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function Fa(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ba(o,r,a,i,l,"next",e)}function l(e){Ba(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ha(e){return function(e){if(Array.isArray(e))return za(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return za(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return za(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}}!function(e){e[e.noChange=0]="noChange",e[e.addToPurchase=1]="addToPurchase",e[e.reducePurchase=2]="reducePurchase"}(Za||(Za={}));var Ya=function(e){var t,n=e.datasource,a=e.pageSn,o=e.apiScene,s=e.grayConfig,c=e.setDatasource,u=(0,r.useRef)(),d=!!(null==s||null==(t=s.cp99510)?void 0:t.openCouponRefresh)&&["home","search","goods_detail_like","shopping_cart"].includes(o);(0,r.useEffect)((function(){d&&((0,me.KU)(),u.current=(0,Pa.J)(me.be).catch((function(){return!1})))}),[d]);var f=(0,l.t)(Fa((function(e){var t,r,o,l,s,f,m,p,g,v,h,y,b,w,S,k,T,E,I,x;return qa(this,(function(C){switch(C.label){case 0:return t=e.reduceGoodsIdList,r=e.addGoodsIdList,o=e.cartGoodsNumMap,d?[4,u.current]:[2];case 1:if(!C.sent())return[2];C.label=2;case 2:for(C.trys.push([2,4,,5]),f=[],m=0;m<(null==n?void 0:n.length);m++)p=null==n?void 0:n[m],g=p.data,v=p.refreshInfo,y=(h=g||{}).goodsId,b=h.currentSkuId,w=h.goodsListPromotionType,y&&(S=0,(null==r?void 0:r.includes(+y))&&(S=1),(null==t?void 0:t.includes(+y))&&(S=2),f.push({goods_id:y,sku_id:b,last_goods_list_promotion_type:v?v.goodsListPromotionType:w,sku_change_status:S,cart_amount:null==o?void 0:o[y]}));return(null==f?void 0:f.length)?(k=f.slice(0,200),T={listId:(0,i.x)(32),offset:0,pageSize:null==k?void 0:k.length,pageSn:a,scene:"refresh_search",goods_sku_pairs:k},[4,(0,me.S6)({url:(0,me.mx)("api/poppy/v1/search",T),params:T,config:{useAntiToken:!0}})]):[2];case 3:return E=C.sent(),(null==(I=null==E||null==(s=E.result)||null==(l=s.data)?void 0:l.goodsList)?void 0:I.length)?(I.forEach((function(e){var t=e||{},r=t.goodsId,a=t.priceInfo,o=t.tagsInfo,i=t.goodsListPromotionType,l=null==n?void 0:n.find((function(e){var t;return(null==e||null==(t=e.data)?void 0:t.goodsId)===r}));l&&(l.refreshInfo={priceInfo:a,tagsInfo:o,goodsListPromotionType:i})})),c(Ha(n)),[3,5]):[2];case 4:return x=C.sent(),(0,an.K2)(x),[3,5];case 5:return[2]}}))})));!function(e){var t=e.updateCb,n=(0,r.useRef)({});(0,r.useEffect)((function(){var e=(0,Da.Kd)((function(e){try{var r=(e||{}).cartGoodsNumMap;if(!r)return;for(var a=[],o=[],i=Object.keys(n.current||{}),l=Object.keys(r||{}),s=Array.from(new Set(Ua(i).concat(Ua(l)))),c=s.length,u=0;u<c;u++){var d=s[u],f=r[d]||0,m=n.current[d]||0;f!==m&&(f>m?o.push(+d):a.push(+d))}t({reduceGoodsIdList:a,addGoodsIdList:o,cartGoodsNumMap:r}),n.current=r}catch(e){(0,an.K2)(e,{errorModule:"useCartGoodsUpdateDetailHook"})}}));return function(){e()}}),[t])}({updateCb:f})};function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ka(){return Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ka.apply(this,arguments)}function Ja(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Va(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Va(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qa=function(e){var t=(0,r.memo)((function(t){var n=t.defaultCartGoodsNumMap,a=t.apiScene,o=t.pageSn,i=t.grayConfig,l=(0,r.useRef)(n||{}),s=(0,r.useRef)([]),c=(0,r.useCallback)((function(e){var t=!1,n=l.current,r=e.map((function(e){var r,a,o=(null==e||null==(r=e.data)?void 0:r.goodsId)||(null==e?void 0:e.goodsId)||null,i=(null==(a=s.current)?void 0:a.find((function(e){var t;return(null==e||null==(t=e.data)?void 0:t.goodsId)===o})))||{};if(o){var l;if("number"!=typeof e.cartAmount)return t=!0,Ka({},i,e,{cartAmount:n[o]||(null==e||null==(l=e.data)?void 0:l.cartAmount)||0});var c=n[o]||0;if((null==e?void 0:e.cartAmount)!==c)return t=!0,Ka({},i,e,{cartAmount:c})}return e}));return t?r:e}),[]),u=Ja((0,r.useState)(c(t.datasource||[])),2),d=u[0],f=u[1];return Fe({setDatasource:f,props:t}),(0,r.useEffect)((function(){var e=c(t.datasource||[]);f(e)}),[c,t.datasource,f]),(0,r.useEffect)((function(){s.current=d}),[d]),Ma({goodsList:d}),Ya({datasource:d,apiScene:a,pageSn:o,grayConfig:i,setDatasource:f}),r.createElement(e,Ka({},t,{datasource:d,setDatasource:f}))})),n=e.displayName||e.name;return t.displayName="withCartAmount("+n+")",_a()(t,e),t},Xa=n(47754),$a=n.n(Xa);function eo(){return eo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eo.apply(this,arguments)}function to(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var no=Qa((0,r.memo)((function(e){var t,n,a,c=e.pageSn,u=e.pageElSn,d=e.isMainGoods,f=void 0!==d&&d,m=e.cartScene,p=e.rowNum,g=e.loadMode,v=e.className,h=void 0===v?"":v,y=e.pageGoodsNum,b=void 0===y?20:y,w=e.title,S=e.datasource,k=e.setDatasource,T=e.canAddToCart,E=void 0===T||T,I=e.CustomGoodsBtn,x=e.useCartBtn,C=e.forwardGoodsParams,N=e.openGoodsWithNewTab,_=e.openRecommendWordsWithNewTab,P=e.beforeClickCart,W=e.onGoodsClick,A=e.onQuickLookClick,L=e.onAddCartClick,O=e.onSkuPanelClose,R=e.onSkuPanelSuccess,j=e.hasMore,M=e.language,D=e.isShowSkc,G=e.isShowSimilar,U=e.isShowRecommendWords,Z=e.isBackAutoShowSimilar,z=e.isShowReleatedGoods,B=e.isShowBillboardTip,F=e.billboardTipProps,H=e.isBackAutoShowRecommendWords,q=e.isBackAutoShowCategoryCard,Y=e.isBackAutoShowReleatedGoods,V=e.webpEnable,K=e.grayConfig,J=e.cardWidth,Q=e.useGlobalAutoFitListClassName,X=void 0===Q||Q,$=e.listClassName,ee=e.goodsCardClassName,te=e.quickLook,ne=e.startLazyIndex,re=e.imageRootMargin,ae=e.showDiscountOnName,oe=e.isOpenSaleInfoScale,ie=void 0===oe||oe,le=(e.saleInfoInlineScript,e.saleInfoInlineScriptConfig),se=e.isShowHoverImage,ce=void 0===se||se,ue=e.skuParams,de=void 0===ue?{}:ue,fe=e.skuOptions,me=void 0===fe?{}:fe,pe=e.goodsNameTag,ge=e.hoverTheme,ve=void 0===ge?Ca.P.DEFAULT:ge,he=e.isShowComment,ye=void 0===he||he,be=e.isShowProcess,we=e.processTrackingInfo,Se=void 0===we?{}:we,ke=e.commonGoodsTrackingInfo,Te=void 0===ke?{}:ke,Ee=e.skcTrackingInfo,Ie=void 0===Ee?{}:Ee,xe=e.recommendWordsTrackingInfo,Ce=void 0===xe?{}:xe,Ne=e.showMarketInfo,_e=e.classConfig,Pe=e.showSavePrice,We=e.renderTopTips,Ae=e.renderBottomTips,Le=e.renderTags,Oe=e.renderTagsBeforePrice,Re=e.userAgent,je=e.goodsConfig,Me=(e.serverTime,e.renderCustomizeTags),De=e.listId,Ge=e.emageProgress,Ue=e.hiddenTooltipItem,Ze=e.ignoreGoodsSaleInlineScriptEffect,ze=e.getItemProps,Be=to(e,["pageSn","pageElSn","isMainGoods","cartScene","rowNum","loadMode","className","pageGoodsNum","title","datasource","setDatasource","canAddToCart","CustomGoodsBtn","useCartBtn","forwardGoodsParams","openGoodsWithNewTab","openRecommendWordsWithNewTab","beforeClickCart","onGoodsClick","onQuickLookClick","onAddCartClick","onSkuPanelClose","onSkuPanelSuccess","hasMore","language","isShowSkc","isShowSimilar","isShowRecommendWords","isBackAutoShowSimilar","isShowReleatedGoods","isShowBillboardTip","billboardTipProps","isBackAutoShowRecommendWords","isBackAutoShowCategoryCard","isBackAutoShowReleatedGoods","webpEnable","grayConfig","cardWidth","useGlobalAutoFitListClassName","listClassName","goodsCardClassName","quickLook","startLazyIndex","imageRootMargin","showDiscountOnName","isOpenSaleInfoScale","saleInfoInlineScript","saleInfoInlineScriptConfig","isShowHoverImage","skuParams","skuOptions","goodsNameTag","hoverTheme","isShowComment","isShowProcess","processTrackingInfo","commonGoodsTrackingInfo","skcTrackingInfo","recommendWordsTrackingInfo","showMarketInfo","classConfig","showSavePrice","renderTopTips","renderBottomTips","renderTags","renderTagsBeforePrice","userAgent","goodsConfig","serverTime","renderCustomizeTags","listId","emageProgress","hiddenTooltipItem","ignoreGoodsSaleInlineScriptEffect","getItemProps"]),Fe=(0,r.useMemo)((function(){return(0,i.x)(10)}),[]);a=Date.now();var He,qe,Ve,Ke,Je,Qe,Xe,$e,et,tt,nt,rt,at,ot,it,lt=(0,l.t)((function(e){return null==ze?void 0:ze(e)})),st=(0,r.useCallback)((function(e){var t=e.index,n=e.data,o=n.data,i=n.refreshInfo,l=to(n,["data","refreshInfo"]),s=lt(o)||{};return r.createElement(ga,eo({pageSn:c,pageElSn:u,isMainGoods:f,cartScene:m,key:o.goodsId},l,{index:t,canAddToCart:E,goodsInfo:o,skuParams:de,skuOptions:me,CustomGoodsBtn:I,useCartBtn:x,language:M,showDiscountOnName:ae,forwardGoodsParams:C,openGoodsWithNewTab:N,openRecommendWordsWithNewTab:_,beforeClickCart:P,onGoodsClick:W,onQuickLookClick:A,onAddCartClick:L,onSkuPanelClose:O,onSkuPanelSuccess:R,webpEnable:V,isShowComment:ye,isShowSkc:D,isShowSimilar:G,isShowRecommendWords:U,isShowReleatedGoods:z,isShowBillboardTip:B,billboardTipProps:F,grayConfig:K,quickLook:te,startLazyIndex:ne,imageRootMargin:re,isBackAutoShowSimilar:Z,isOpenSaleInfoScale:ie,isShowHoverImage:ce,isShowProcess:be,processTrackingInfo:Se,goodsNameTag:pe,hoverTheme:ve,isBackAutoShowCategoryCard:q,isBackAutoShowRecommendWords:H,isBackAutoShowReleatedGoods:Y,commonGoodsTrackingInfo:Te,skcTrackingInfo:Ie,recommendWordsTrackingInfo:Ce,showMarketInfo:Ne,classConfig:_e,setDatasource:k,showSavePrice:Pe,renderTopTips:We,renderBottomTips:Ae,renderTags:Le,renderTagsBeforePrice:Oe,userAgent:Re,goodsConfig:je,serverTime:a,rowNum:p,renderCustomizeTags:Me,listId:De,emageProgress:Ge,privateListId:Fe,ignoreGoodsSaleInlineScriptEffect:Ze,refreshInfo:i},s))}),[m,ce,Ge,Fe,x,I,E,lt]),ct=(null==S?void 0:S.length)||0,ut=(0,r.useMemo)((function(){return j&&p&&ct>p?ct%p:0}),[j,ct,p]),dt=(Ke=(qe={accuracy:1e3}).accuracy,Je=void 0===Ke?1e3:Ke,Qe=qe.startCount,Xe=void 0===Qe||Qe,$e=wa((0,r.useState)(Date.now()),2),et=$e[0],tt=$e[1],nt=wa((0,r.useState)(!1),2),rt=nt[0],at=nt[1],ot=(0,r.useCallback)((function(){!rt&&Xe&&(Ve=setInterval((function(){if(!document[ka]||"hidden"!==document.visibilityState){var e=Ea.curTime();tt(e)}}),Je),at(!0))}),[rt,Je]),it=function(){document[ka]&&"visible"!==document.visibilityState?(window.clearInterval(Ve),at(!1)):ot()},(0,r.useEffect)((function(){return!rt&&Xe&&(ot(),document.addEventListener(Ta,it)),function(){Ve&&window.clearInterval(Ve),Xe&&document.removeEventListener(Ta,it)}}),[Je,Xe]),et);He=g&&"manual"!==g||!p?S:ut?S.slice(0,ct-ut):S;var ft,mt,pt,gt=(null==le?void 0:le.jsClassName)||"js-goods-list",vt=(null==K||null==(t=K.cp116861)?void 0:t.value)?1200:100,ht=(null==K||null==(n=K.cp116861)?void 0:n.value)?500:0;return r.createElement(Ye.u,{className:o()(h,(ft={},mt=gt,pt=!0,mt in ft?Object.defineProperty(ft,mt,{value:pt,enumerable:!0,configurable:!0,writable:!0}):ft[mt]=pt,ft)),hidden:Ue,delayShow:vt,noDelayShowInterval:ht},w?r.createElement("div",{className:$a().title},w):null,j&&!(null==He?void 0:He.length)?r.createElement("div",{className:o()($a().autoFitList,$,{autoFitList:X}),role:"region"},new Array(b).fill(0).map((function(e,t){return r.createElement("div",{className:o()($a().cardWrap,ee),style:{width:J,padding:9},key:t},r.createElement(At.Z,{useCartBtn:x}))}))):r.createElement(s.JB.Provider,{value:{nowTime:dt}},r.createElement(Pt.Z,eo({wrapperClass:o()($a().autoFitList,$,{autoFitList:X}),goodsCardClassName:ee,itemKey:"goodsId",renderItem:st,ssrRenderLength:b,datasource:He,hasMore:j,loadMode:g,itemWidth:J,useItemWrap:!(null==Be?void 0:Be.renderItem),useGoodsFilter:!(null==Be?void 0:Be.renderItem)},Be,{pageSn:c,listId:De,grayConfig:K,useCartBtn:x}))),r.createElement(xa,{parentDom:"."+gt,max:(null==le?void 0:le.max)||60}))})))},2793:function(e,t,n){"use strict";var r=n(87184),a=n(72779),o=n.n(a),i=n(54611),l=n(75879),s=n.n(l),c=function(e){var t=e.comment,n=e.avatar,a=e.className,l=e.style,c=e.lazy,u=e.webpEnable;return t&&n?r.createElement("div",{className:o()(s().container,a),style:l},r.createElement("div",{className:s().content,tabIndex:0},r.createElement("div",{className:s().avatarImage},r.createElement(i.ZP,{lazy:c,src:n,className:s().avatar,"aria-hidden":!0,alt:t,processParam:{resizeWidth:57,webpEnable:u}})),t)):null};t.Z=(0,r.memo)(c)},7767:function(e,t,n){"use strict";var r=n(87184),a=n(72779),o=n.n(a),i=n(95898),l=n.n(i),s=function(e){var t=e.className,n=e.marketPrice,a=e.discount,i=e.prefix;return n&&a?r.createElement("div",{className:o()(l().container,t)},r.createElement("div",{className:l().marketPrice},i||"",n),r.createElement("div",{className:l().discount},a)):null};t.Z=(0,r.memo)(s)},6232:function(e,t,n){"use strict";n.d(t,{ZP:function(){return R}});n(67904),n(87246);var r=n(87184),a=n(95239),o=n(86644),i=n(8246),l=n(84256),s=n(72779),c=n.n(s),u=n(58767),d=n(60211),f=n.n(d);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=function(e,t){return o.Z.uniformForward(e)},h=function(){},y=function(e,t){var n=e.href,a=e.onClick,o=void 0===a?v:a,i=e.className,l=e.children,s=e.domAttributes,d=e.onMouseDown,m=void 0===d?h:d,y=(0,r.useRef)(null),b=g((0,r.useState)(!0),2),w=b[0],S=b[1],k=(0,r.useCallback)((function(e){o(n,e)}),[n,o]);return(0,r.useEffect)((function(){S(!1)}),[]),(0,u.P)(y,k),r.createElement("a",p({href:n,ref:function(e){y.current=e,"function"==typeof t?t(e):t&&(t.current=e)},onClick:function(e){e.preventDefault(),k(e)},onMouseDown:function(e){e.preventDefault(),m(n,e)},className:c()(f().a,w&&f().preventNav,i)},s),l)},b=(0,r.memo)((0,r.forwardRef)(y)),w=(n(96391),n(5127),n(17385),n(17125),n(9564),n(60452),n(23395),n(80978),n(11183),n(81959)),S=n(7872);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=[{pagePath:"/goods.html",pageRegExp:["/(?:\\w*-)*g-(?<goods_id>\\d+)\\.html"],pageSingleKey:["goods_id"]},{pagePath:"/mall.html",pageRegExp:["/(?:\\w*-)*m-(?<mall_id>\\d+).html"],pageSingleKey:["mall_id"]},{pagePath:"/category.html",pageRegExp:["/(?:\\w*-)*o(?:\\d+)-(?<opt_id>\\d+)\\.html"],pageSingleKey:["opt_id"]},{pagePath:"/seo_search_result.html",pageRegExp:["/(?<search_key>[^\\s/]+)-s\\.html"],pageSingleKey:["search_key"]}];function I(e,t){var n=t||{},r=n.pageRegExp,o=n.pageSingleKey,i=n.pagePath,l=n.pathnamePrefix,s=function(e){var t=document.createElement("a");return t.href=e,t}(e),c=s||{},u=c.pathname,d=c.search,f=!1,m="";if((r||[]).reduce((function(e,t){return e||u.match(t)}),null))f=!0;else if(u.endsWith(i)){f=!0;var p=(0,a.mB)(d);o.reduce((function(e,t){return e&&p[t]}),!0)||(m="missing query "+o.join(" "))}else u.includes(l)&&(f=!0,m="url not match the rule "+r.join(" "));return{isThisPageUrl:f,errorMsg:m}}function x(e,t){(0,S.Y7)(window.navigator.userAgent);try{var n="";e||(n="url seoUrl href all does not exist");for(var r=t||E,a=r.length,o=!0,i=0;i<a&&o&&!n;){var l=I(e,r[i])||{},s=l.isThisPageUrl;n=l.errorMsg,s&&(o=!1),i+=1}if(n){var c=new Error("displayHref:"+(e||"no displayHref")+" "+n);(0,w.K2)(c,{errorCode:"500001"})}}catch(e){0}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,t){if(window.requestIdleCallback){var n=window.requestIdleCallback((function(){null==e||e.apply(void 0,T(t))}));return function(){return window.cancelIdleCallback(n)}}var r=window.setTimeout((function(){null==e||e.apply(void 0,T(t))}),1);return function(){return window.clearTimeout(r)}}(x,t)}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W=function(e){var t=e.displayUrl,n=e.jumpUrl,r=e.url,a=e.seoUrl;return t||(null==a?void 0:a.split("?")[0])||n||r},A=function(e){var t=e.displayUrl,n=e.jumpUrl,r=e.url,a=e.seoUrl;return n||r||t||a},L=function(e){return o.Z.uniformForward(e)},O=function(e,t){var n=e.jumpUrl,s=e.url,c=(e.displayUrl,e.seoUrl,e.generateHref),u=e.generateMouseDownHref,d=e.onClick,f=void 0===d?L:d,m=e.children,p=e.isCheckDisplayHref,g=void 0===p||p,v=e.checkStaticRouteConfig,h=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["jumpUrl","url","displayUrl","seoUrl","generateHref","generateMouseDownHref","onClick","children","isCheckDisplayHref","checkStaticRouteConfig"]),y=(0,i.l)(),w=(c||y.generateHref||W)(e);(0,r.useEffect)((function(){return g?C(w,v):function(){}}),[g,w,v]);var S=P((0,r.useState)(w),2),k=S[0],T=S[1],E=(0,r.useCallback)((function(e,t){f(n||s,t,k)}),[n,s,f,k]);return r.createElement(b,_({href:k,onClick:E,onMouseDown:function(){var t=(0,l.kA)((0,a.ru)(o.Z.getNextPageQuery(),(u||y.generateMouseDownHref||A)(e)));T(t)},ref:t},h),m)},R=(0,r.forwardRef)(O)},47828:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(87184);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function o(e){var t,n,o=e.children,i=e.styleProps,l=void 0===i?{}:i,s=e.isSeo,c=null==l||null==(n=l.backgroundImageUrl)||null==(t=n[0])?void 0:t.url,u=c?"url("+c+")":void 0;return s?r.createElement("h2",{style:a({},l,{backgroundImage:u})},o):r.createElement("div",{style:a({},l,{backgroundImage:u}),role:"heading",tabIndex:0},o)}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/js/5395_7e357f161ec9b5d49a15.js.map